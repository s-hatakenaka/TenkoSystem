{"remainingRequest":"C:\\Users\\takum\\Documents\\hokuriku_tosbac\\Uedaunyu\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\takum\\Documents\\hokuriku_tosbac\\Uedaunyu\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\src\\pages\\SyukkaNyuryoku.vue?vue&type=style&index=0&id=5db7c51f&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\takum\\Documents\\hokuriku_tosbac\\Uedaunyu\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\src\\pages\\SyukkaNyuryoku.vue","mtime":1603336365422},{"path":"C:\\Users\\takum\\Documents\\hokuriku_tosbac\\Uedaunyu\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\css-loader\\index.js","mtime":1603336355456},{"path":"C:\\Users\\takum\\Documents\\hokuriku_tosbac\\Uedaunyu\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1603336364622},{"path":"C:\\Users\\takum\\Documents\\hokuriku_tosbac\\Uedaunyu\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\postcss-loader\\lib\\index.js","mtime":1603336360496},{"path":"C:\\Users\\takum\\Documents\\hokuriku_tosbac\\Uedaunyu\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1603336354440},{"path":"C:\\Users\\takum\\Documents\\hokuriku_tosbac\\Uedaunyu\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\vue-loader\\lib\\index.js","mtime":1603336364622}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.search-selected {\n    background-color: blue;\n    color: white;\n}\n",{"version":3,"sources":["SyukkaNyuryoku.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+rDA;AACA;AACA;AACA","file":"SyukkaNyuryoku.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n    <div>\r\n        <keyboard-events v-on:keydown=\"keyboardEvent\"></keyboard-events>\r\n\r\n        <el-card v-if=\"data.pageNumber == 1\">\r\n            <div slot='header'>\r\n                <span>出荷伝票</span>\r\n            </div>\r\n            <div slot='default'>\r\n                <el-form :model=\"data.first.model\" :rules=\"data.first.validation\" ref=\"firstForm\" label-width=\"120px\">\r\n                    <div class='row'>\r\n                        <div class='col-md-3'>\r\n                            <el-form-item label-width=\"0\" prop=\"syukkaDate\">\r\n\r\n                                <label for='出荷日付' class='col-form-label px-1' style='width:100%;'>出荷日付</label>\r\n                                <el-input v-model=\"data.first.model.syukkaDate\"\r\n                                          type='date'></el-input>\r\n                            </el-form-item>\r\n                        </div>\r\n                    </div>\r\n                    <div class='row' style=\"margin-top:2%;margin-left:1%;\">\r\n                        <div class='col-md-12' style=\"margin-top:1%;\">\r\n                            <el-checkbox v-model=\"data.first.model.syukkaDenpyouChecked\">出荷伝票(控)印刷する</el-checkbox>\r\n                        </div>\r\n                        <div class='col-md-12' style=\"margin-top:1%;\">\r\n                            <el-checkbox v-model=\"data.first.model.syukkaKeisansyoChecked\">出荷計算書印刷する</el-checkbox>\r\n                        </div>\r\n                        <div class='col-md-12' style=\"margin-top:1%;\">\r\n                            <el-checkbox v-model=\"data.first.model.nouninsyoChecked\">納品書印刷する</el-checkbox>\r\n                        </div>\r\n                    </div>\r\n\r\n                </el-form>\r\n                <div class='row'>\r\n                    <div class='col-md-12'>\r\n                        <div style='text-align:right;width:100%;'>\r\n                            <el-button style='margin-left:2%;' type='primary' v-on:click=\"confirm\">確認(F5)</el-button>\r\n                            <el-button style='margin-left:2%;' type='warning' v-on:click=\"finish\">終了(F12)</el-button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </el-card>\r\n\r\n        <el-dialog title=\"出荷データ検索\"\r\n                   :visible.sync=\"data.dialogVisible\"\r\n                   width=\"90%\">\r\n            <div class=\"row\">\r\n                <div class='col-md-12'>\r\n                    <label for='出荷日付' class='col-form-label px-1' style='width:100%;'>出荷日付</label>\r\n                    <el-input type='date'\r\n                              style='width:40%;margin-right:2%;'\r\n                              v-model='data.search.dateStart'\r\n                              :max=\"data.search.dateEnd\"></el-input>\r\n                    <span>～</span>\r\n                    <el-input type='date'\r\n                              style='width:40%;margin-right:2%;'\r\n                              :min=\"data.search.dateStart\"\r\n                              v-model='data.search.dateEnd'></el-input>\r\n                </div>\r\n            </div>\r\n            <div class=\"row\">\r\n                <div class='col-md-8'>\r\n                    <label for='市場' class='col-form-label px-1' style='width:100%;'>市場</label>\r\n                    <el-increment-search v-model=\"data.search.shijoCode\"\r\n                                         :display=\"[{key:'shijyomei',name:'市場名'}]\"\r\n                                         :autoComplete=\"['shijyomei']\"\r\n                                         :kind=\"'市場'\"\r\n                                         :required=\"true\"\r\n                                         @update=\"(r) => data.search.shijoName = r.shijyomei\"></el-increment-search>\r\n                    <el-input type='text'\r\n                              style='width:50%;'\r\n                              readonly\r\n                              :placeholder=\"'市場名'\"\r\n                              v-model=\"data.search.shijoName\"></el-input>\r\n\r\n                </div>\r\n            </div>\r\n            <div class=\"row\">\r\n                <div class=\"col-12\" style=\"text-align:right;\">\r\n                    <el-button @click=\"data.dialogVisible = false\">終了</el-button>\r\n                    <el-button type=\"primary\" v-on:click=\"syukkaSearch\">検索</el-button>\r\n                </div>\r\n            </div>\r\n            <el-card style=\"margin-top:1%;\">\r\n                <div slot='header'>\r\n                    <span>検索結果</span>\r\n                </div>\r\n                <div slot='default' class=\"row\">\r\n                    <div class=\"col-12\">\r\n                        <table class=\"table\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th width=\"4%\"></th>\r\n                                    <th>日付</th>\r\n                                    <th>出荷番号</th>\r\n                                    <th>行</th>\r\n                                    <th>市場</th>\r\n                                    <th>商品</th>\r\n                                    <th>品種</th>\r\n                                    <th>サイズ</th>\r\n                                    <th>包装</th>\r\n                                    <th>等級</th>\r\n                                    <th>引</th>\r\n                                    <th>枚数</th>\r\n                                    <th>単価</th>\r\n                                    <th>金額</th>\r\n                                    <th>運賃</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr v-for=\"(search_result, index) in data.search.result\" v-bind:key=\"search_result.number\" v-bind:class=\"data.search.selectedIndex == index && 'search-selected'\" v-on:click=\"searchSelectedTr(index)\">\r\n                                    <td><el-button type=\"success\" name=\"name\" v-on:click=\"searchResultSelect(search_result)\">選択</el-button></td>\r\n                                    <td>{{search_result.date}}</td>\r\n                                    <td>{{search_result.bill_number}}</td>\r\n                                    <td>{{search_result.row}}</td>\r\n                                    <td>{{search_result.shijo}}</td>\r\n                                    <td>{{search_result.syouhin}}</td>\r\n                                    <td>{{search_result.hinsyu}}</td>\r\n                                    <td>{{search_result.size}}</td>\r\n                                    <td>{{search_result.housou}}</td>\r\n                                    <td>{{search_result.tokyu}}</td>\r\n                                    <td>{{search_result.hiki}}</td>\r\n                                    <td>{{search_result.maisu}}</td>\r\n                                    <td>{{search_result.tanka}}</td>\r\n                                    <td>{{search_result.price}}</td>\r\n                                    <td>{{search_result.unchin}}</td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </el-card>\r\n        </el-dialog>\r\n\r\n        <el-card v-if=\"data.pageNumber == 2\">\r\n            <div slot='header'>\r\n                <span>出荷伝票</span>\r\n            </div>\r\n            <div slot='default'>\r\n                <el-form :model=\"data.second.model\" ref=\"secondForm\" label-width=\"120px\">\r\n                    <div class='row'>\r\n                        <div class='col-md-12'>\r\n\r\n                            <el-card>\r\n                                <template slot='default'>\r\n                                    <div class='row'>\r\n                                        <div class='col-md-4'>\r\n                                            <label for='処理区分' class='col-form-label px-1' style='width:100%;'>処理区分</label>\r\n                                            <el-select id=\"syoriKubun\" v-model=\"data.syoriKubun\" style='width:100%;' :disabled=\"data.disabled.syukkaConfirm\">\r\n                                                <el-option :value='0' label=\"0: 新規\"></el-option>\r\n                                                <el-option :value='1' label=\"1: 修正\"></el-option>\r\n                                                <el-option :value='2' label=\"2: 削除\"></el-option>\r\n                                            </el-select>\r\n                                        </div>\r\n                                        <div class='col-md-4'>\r\n                                            <label for='伝票番号' class='col-form-label px-1' style='width:100%;'>伝票番号</label>\r\n                                            <el-input id=\"billNumber\"\r\n                                                      type='text'\r\n                                                      style='width:60%; margin-right:2%;'\r\n                                                      v-model=\"data.billNumber\"\r\n                                                      :disabled=\"data.syoriKubun == 0 || data.disabled.syukkaConfirm\"></el-input>\r\n                                            <el-button id=\"billNumberSearch\"\r\n                                                       type='danger'\r\n                                                       icon=\"el-icon-search\"\r\n                                                       style='width:20%;display:inline;'\r\n                                                       @click=\"data.dialogVisible = true\"\r\n                                                       :disabled=\"data.syoriKubun == 0 || data.disabled.syukkaConfirm\">検索</el-button>\r\n\r\n                                        </div>\r\n                                        <div class='col-md-4'>\r\n                                            <label for='確認' class='col-form-label px-1'>確認</label>\r\n                                            <el-button type='primary'\r\n                                                       style=\"display:block;\"\r\n                                                       v-on:click=\"syukkaConfirm\"\r\n                                                       :disabled=\"data.disabled.syukkaConfirm\">確認</el-button>\r\n                                        </div>\r\n                                    </div>\r\n                                </template>\r\n                            </el-card>\r\n                        </div>\r\n                    </div>\r\n                    <div class='row' style=\"margin-top:3%;\">\r\n                        <div class='col-md-6' style=\"margin-bottom:2%;\">\r\n                            <label for='出荷日付' class='col-form-label px-1'>出荷日付</label>\r\n                            <el-form-item label-width=\"0\"\r\n                                          prop=\"syukkaDate\"\r\n                                          :rules=\"{\r\n                                                              required: true, message: '出荷日付が入力されていません', trigger: 'blur'\r\n                                                              }\"\r\n                                          style=\"margin:0;\">\r\n\r\n                                <el-input type=\"date\"\r\n                                          v-model=\"data.second.model.syukkaDate\" v-bind:disabled=\"data.syoriKubun == 0 || !data.disabled.syukkaConfirm\"></el-input>\r\n                            </el-form-item>\r\n                        </div>\r\n                    </div>\r\n                    <div class='row'>\r\n                        <div class='col-md-6' style=\"margin-bottom:2%;\">\r\n                            <!--インクリメントサーチ-->\r\n                            <label for='市場' class='col-form-label px-1' style='width:100%;'>市場</label>\r\n                            <el-form-item label-width=\"0\"\r\n                                          prop=\"shijyoCode\"\r\n                                          :rules=\"{\r\n                                                              required: true, message: '市場コードが入力されていません', trigger: 'change'\r\n                                                              }\"\r\n                                          style=\"margin:0;\">\r\n\r\n                                <el-increment-search v-model=\"data.second.model.shijyoCode\"\r\n                                                     :display=\"[{key:'shijyomei',name:'名前'}]\"\r\n                                                     :autoComplete=\"['shijyomei','tesuryoKbn','tesuryoRate']\"\r\n                                                     :kind=\"'市場'\"\r\n                                                     :required=\"true\"\r\n                                                     :disabled=\"!data.disabled.syukkaConfirm\"\r\n                                                     @update=\"changeShijyoCD\"></el-increment-search>\r\n                                <el-input type='text'\r\n                                          style='width:50%;'\r\n                                          readonly\r\n                                          :placeholder=\"'市場名'\"\r\n                                          :disabled=\"!data.disabled.syukkaConfirm\"\r\n                                          v-model=\"data.second.model.shijyoName\"></el-input>\r\n                            </el-form-item>\r\n                        </div>\r\n                        <div class='col-md-6' style=\"margin-bottom:2%;\">\r\n                            <label for='部門' class='col-form-label px-1' style='width:100%;'>部門</label>\r\n                            <el-form-item label-width=\"0\"\r\n                                          prop=\"bumonCode\"\r\n                                          :rules=\"{\r\n                                                              required: true, message: '部門コードが入力されていません', trigger: 'change'\r\n                                                              }\"\r\n                                          style=\"margin:0;\">\r\n\r\n                                <el-increment-search v-model=\"data.second.model.bumonCode\"\r\n                                                     :display=\"[{key:'bumonmei',name:'名前'}]\"\r\n                                                     :autoComplete=\"['bumonmei']\"\r\n                                                     :kind=\"'部門'\"\r\n                                                     :required=\"true\"\r\n                                                     :disabled=\"!data.disabled.syukkaConfirm\"\r\n                                                     @update=\"(r) => data.second.model.bumonName = r.bumonmei\"></el-increment-search>\r\n                                <el-input type='text'\r\n                                          style='width:50%;'\r\n                                          readonly\r\n                                          :placeholder=\"'部門名'\"\r\n                                          :disabled=\"!data.disabled.syukkaConfirm\"\r\n                                          v-model=\"data.second.model.bumonName\"></el-input>\r\n                            </el-form-item>\r\n                        </div>\r\n                        <div class='col-md-4' style=\"margin-bottom:2%;\">\r\n                            <label for='手数料' class='col-form-label px-1' style='width:100%;'>手数料</label>\r\n                            <el-form-item label-width=\"0\"\r\n                                          prop=\"tesuryou\"\r\n                                          :rules=\"{\r\n                                                              required: true, message: '手数料が入力されていません', trigger: 'blur'\r\n                                                              }\"\r\n                                          style=\"margin:0;\">\r\n\r\n                                <el-input-number style='width:80%;'\r\n                                                 controls-position=\"right\"\r\n                                                 type='text'\r\n                                                 :min=\"0\"\r\n                                                 v-model=\"data.second.model.tesuryou\"\r\n                                                 :disabled=\"!data.disabled.syukkaConfirm\"></el-input-number>\r\n                            </el-form-item>\r\n                        </div>\r\n                    </div>\r\n                    <el-card style=\"margin-top:3%;\">\r\n                        <div slot='header'>\r\n                            <span>明細</span>\r\n                        </div>\r\n                        <div class=\"row\">\r\n                            <div class=\"\" style=\"white-space:nowrap;overflow-x:scroll;\">\r\n                                <table class=\"table\" style=\"max-width:200%;width:130%;\">\r\n                                    <thead>\r\n                                        <tr>\r\n                                            <th style=\"width:3%;\"></th>\r\n                                            <th style=\"width:4%;\">削除</th>\r\n                                            <th style=\"width:10%;\">コード</th>\r\n                                            <th style=\"width:5%;\">商品</th>\r\n                                            <th style=\"width:5%;\">品種</th>\r\n                                            <th style=\"width:5%;\">サイズ</th>\r\n                                            <th style=\"width:7%;\">包装</th>\r\n                                            <th style=\"width:7%;\">入数</th>\r\n                                            <th style=\"width:8%;\">市場等級</th>\r\n                                            <th style=\"width:8%;\">組合等級</th>\r\n                                            <th style=\"width:5%;\">甲入数</th>\r\n                                            <th style=\"width:5%;\">甲数</th>\r\n                                            <th style=\"width:8%;\">枚数</th>\r\n                                            <th style=\"width:5%;\">単価</th>\r\n                                            <th style=\"width:7%;\">金額</th>\r\n                                            <th style=\"width:7%;\">運賃</th>\r\n                                            <th style=\"width:7%;\">単価</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr v-for=\"(meisai_data, index) in data.second.model.meisai\" v-bind:key=\"meisai_data.number\">\r\n                                            <td>{{index}}</td>\r\n                                            <td><el-button type=\"primary\" name=\"name\" v-on:click=\"meisaiRemove(index)\" v-bind:disabled=\"data.syoriKubun == 2\">削除</el-button></td>\r\n                                            <td>\r\n                                                <el-form-item label-width=\"0\"\r\n                                                              :prop=\"'meisai[' + index + '].code'\"\r\n                                                              :rules=\"{\r\n                                                              required: true, message: 'コードが入力されていません', trigger: 'blur'\r\n                                                              }\"\r\n                                                              style=\"margin:0;\"\r\n                                                              >\r\n\r\n                                                    <input class=\"form-control\" type=\"text\" name=\"name\" v-bind:value=\"meisai_data.code\" v-on:change=\"meisaiCodeCheck(meisai_data,$event.target,index)\" v-bind:disabled=\"data.syoriKubun == 2\" />\r\n                                                </el-form-item>\r\n                                            </td>\r\n                                            <td>\r\n                                                {{data.syouhin[meisai_data.syouhin]}}\r\n                                            </td>\r\n                                            <td>\r\n                                                {{hinsyuSearch(meisai_data.hinsyu, meisai_data.syouhin) == undefined ? \"\" : hinsyuSearch(meisai_data.hinsyu, meisai_data.syouhin).hinsyumei}}\r\n                                            </td>\r\n                                            <td>\r\n                                                {{sizeSearch(meisai_data.size, meisai_data.syouhin) == undefined ? \"\" : sizeSearch(meisai_data.size, meisai_data.syouhin).sizemei}}\r\n                                           </td>\r\n                                            <td>\r\n                                                {{housouSearch(meisai_data.housou, meisai_data.syouhin) == undefined ? \"\" : housouSearch(meisai_data.housou, meisai_data.syouhin).hosomei}}\r\n                                            </td>\r\n                                            <td>\r\n                                                <el-form-item label-width=\"0\"\r\n                                                              :prop=\"'meisai[' + index + '].irisu'\"\r\n                                                              :rules=\"{\r\n                                                              required: true, message: '入数が入力されていません', trigger: 'blur'\r\n                                                              }\"\r\n                                                              style=\"margin:0;\">\r\n\r\n                                                    <el-input-number name=\"name\"\r\n                                                                     v-model=\"meisai_data.irisu\" :disabled=\"meisai_data.sainyuryokukbn == 0  || data.syoriKubun == 2\"\r\n                                                                     :min=\"0\"\r\n                                                                     controls-position=\"right\"></el-input-number>\r\n\r\n                                                </el-form-item>\r\n                                            </td>\r\n                                            <td>\r\n                                                <el-form-item label-width=\"0\"\r\n                                                              :prop=\"'meisai[' + index + '].sijotokyu'\"\r\n                                                              :rules=\"{\r\n                                                              required: true, message: '市場等級が入力されていません', trigger: 'blur'\r\n                                                              }\"\r\n                                                              style=\"margin:0;\">\r\n                                                    <el-select name=\"name\" v-model=\"meisai_data.sijotokyu\" v-bind:disabled=\"data.syoriKubun == 2\">\r\n                                                        <el-option v-for=\"(shijotokyu_option, index_key) in data.shijoTokyu\" v-bind:key=\"shijotokyu_option.number\" :value=\"shijotokyu_option.shijyotokyu\" :label=\"shijotokyu_option.tokyuHyojimei\" v-if=\"correspondingWithSyouhinCD(meisai_data,shijotokyu_option)\"></el-option>\r\n                                                    </el-select>\r\n                                                </el-form-item>\r\n                                            </td>\r\n                                            <td>\r\n                                                <el-form-item label-width=\"0\"\r\n                                                              :prop=\"'meisai[' + index + '].kumiaitokyu'\"\r\n                                                              :rules=\"{\r\n                                                              required: true, message: '組合等級が入力されていません', trigger: 'blur'\r\n                                                              }\"\r\n                                                              style=\"margin:0;\">\r\n\r\n                                                    <el-select name=\"name\" v-model=\"meisai_data.kumiaitokyu\" v-bind:disabled=\"data.syoriKubun == 2\">\r\n                                                        <el-option v-for=\"(kumiaitokyu_option, index_key) in data.kumiaiTokyu\" v-bind:key=\"kumiaitokyu_option.number\" :value=\"kumiaitokyu_option.kumiaitokyu\" :label=\"kumiaitokyu_option.tokyuHyojimei\" v-if=\"correspondingWithSyouhinCD(meisai_data,kumiaitokyu_option)\"></el-option>\r\n                                                    </el-select>\r\n\r\n                                                </el-form-item>\r\n                                            </td>\r\n                                            <td>\r\n                                                <el-form-item label-width=\"0\"\r\n                                                              :prop=\"'meisai[' + index + '].kouirisu'\"\r\n                                                              :rules=\"{\r\n                                                              required: true, message: '甲入数が入力されていません', trigger: 'blur'\r\n                                                              }\"\r\n                                                              style=\"margin:0;\">\r\n\r\n                                                    <el-input-number name=\"name\"\r\n                                                                     v-model=\"meisai_data.kouirisu\" :disabled=\"data.syoriKubun == 2\"\r\n                                                                     controls-position=\"right\"\r\n                                                                     :min=\"0\"\r\n                                                                     @change=\"changeMeisaiMaisu(meisai_data),changeMeisaiPrice(meisai_data)\"></el-input-number>\r\n                                                </el-form-item>\r\n                                            </td>\r\n                                            <td>\r\n                                                <el-form-item label-width=\"0\"\r\n                                                              :prop=\"'meisai[' + index + '].kousu'\"\r\n                                                              :rules=\"{\r\n                                                              required: true, message: '甲数が入力されていません', trigger: 'blur'\r\n                                                              }\"\r\n                                                              style=\"margin:0;\">\r\n\r\n                                                    <el-input-number name=\"name\"\r\n                                                                     v-model=\"meisai_data.kousu\" :disabled=\"data.syoriKubun == 2\"\r\n                                                                     @change=\"changeMeisaiMaisu(meisai_data),changeMeisaiPrice(meisai_data)\"\r\n                                                                     :min=\"0\"\r\n                                                                     controls-position=\"right\"></el-input-number>\r\n\r\n                                                </el-form-item>\r\n                                            </td>\r\n                                            <td>\r\n                                                <el-form-item label-width=\"0\"\r\n                                                              :prop=\"'meisai[' + index + '].maisu'\"\r\n                                                              :rules=\"{\r\n                                                              required: true, message: '枚数が入力されていません', trigger: 'blur'\r\n                                                              }\"\r\n                                                              style=\"margin:0;\">\r\n\r\n\r\n                                                    <el-input v-model=\"meisai_data.maisu\"\r\n                                                              :disabled=\"data.syoriKubun == 2\"\r\n                                                              readonly></el-input>\r\n\r\n                                                </el-form-item>\r\n                                            </td>\r\n                                            <td>\r\n                                                <el-form-item label-width=\"0\"\r\n                                                              :prop=\"'meisai[' + index + '].tanka'\"\r\n                                                              :rules=\"{\r\n                                                              required: true, message: '単価が入力されていません', trigger: 'blur'\r\n                                                              }\"\r\n                                                              style=\"margin:0;\">\r\n\r\n\r\n                                                    <el-input-number name=\"name\"\r\n                                                                     v-model=\"meisai_data.tanka\" :disabled=\"data.syoriKubun == 2\"\r\n                                                                     :precision=\"2\" :step=\"0.1\"\r\n                                                                     :min=\"0\"\r\n                                                                     @change=\"changeMeisaiPrice(meisai_data)\"\r\n                                                                     controls-position=\"right\"></el-input-number>\r\n                                                </el-form-item>\r\n                                            </td>\r\n                                            <td>\r\n                                                <el-form-item label-width=\"0\"\r\n                                                              :prop=\"'meisai[' + index + '].price'\"\r\n                                                              :rules=\"{\r\n                                                              required: true, message: '金額が入力されていません', trigger: 'blur'\r\n                                                              }\"\r\n                                                              style=\"margin:0;\">\r\n\r\n\r\n                                                    <el-input v-model=\"meisai_data.price\"\r\n                                                              :disabled=\"data.syoriKubun == 2\"\r\n                                                              readonly></el-input>\r\n\r\n                                                </el-form-item>\r\n                                            </td>\r\n                                            <td>\r\n                                                <el-form-item label-width=\"0\"\r\n                                                              :prop=\"'meisai[' + index + '].unchin'\"\r\n                                                              :rules=\"{\r\n                                                              required: true, message: '運賃が入力されていません', trigger: 'blur'\r\n                                                              }\"\r\n                                                              style=\"margin:0;\">\r\n\r\n\r\n                                                    <el-input v-model=\"meisai_data.unchin\"\r\n                                                              :disabled=\"data.syoriKubun == 2\"\r\n                                                              readonly></el-input>\r\n\r\n                                                </el-form-item>\r\n                                            </td>\r\n                                            <td><el-button type=\"success\" name=\"name\" v-on:click=\"bunkatsuTankaNyuryoku(meisai_data,index)\" v-bind:disabled=\"data.syoriKubun == 2\">単価</el-button></td>\r\n\r\n                                        </tr>\r\n                                    </tbody>\r\n                                    <tr>\r\n                                        <td colspan=\"17\" style=\"text-align:center;\">\r\n                                            <el-button type='primary'\r\n                                                       style='width:40%;display:inline;'\r\n                                                       @click=\"addMeisai('', null, '', '', '', 0, 1,'', '', 0, 0, 0, 0, 0, '','',[])\"\r\n                                                       :disabled=\"data.syoriKubun == 2 || !data.disabled.syukkaConfirm\">明細を追加</el-button>\r\n                                        </td>\r\n                                    </tr>\r\n                                    <tbody>\r\n                                        <tr>\r\n                                            <td></td>\r\n                                            <td></td>\r\n                                            <td></td>\r\n                                            <td></td>\r\n                                            <td></td>\r\n                                            <td></td>\r\n                                            <td></td>\r\n                                            <td></td>\r\n                                            <td></td>\r\n                                            <td></td>\r\n                                            <td>合計</td>\r\n                                            <td>\r\n                                                <el-input :value=\"returnTotalKousu()\"\r\n                                                          readonly></el-input>\r\n                                            </td>\r\n                                            <td>\r\n                                                <el-input :value=\"returnTotalMaisu()\"\r\n                                                          readonly></el-input>\r\n                                            </td>\r\n                                            <td></td>\r\n                                            <td>\r\n                                                <el-input :value=\"returnTotalPrice()\"\r\n                                                          readonly></el-input>\r\n                                            </td>\r\n                                            <td>\r\n                                                <el-input :value=\"returnTotalUnchin()\"\r\n                                                          readonly></el-input>\r\n                                            </td>\r\n                                            <td></td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"row\" style=\"margin-top:3%;\">\r\n                            <div class='col-md-4'>\r\n                                <el-checkbox v-model=\"data.checked.goukeiInji\">合計印字する</el-checkbox>\r\n                            </div>\r\n                        </div>\r\n                        <div style='text-align:right;width:100%;'>\r\n                            <el-button id=\"updateButton\" type='success' :disabled=\"!data.disabled.syukkaConfirm\" v-on:click=\"update\">{{data.updateButton}}(F9)</el-button>\r\n                            <el-button style='margin-left:2%;' type='warning' v-on:click=\"init\">画面クリア(F10)</el-button>\r\n                            <el-button style='margin-left:2%;' type='primary' v-on:click=\"finish\">終了(F12)</el-button>\r\n                        </div>\r\n                    </el-card>\r\n                </el-form>\r\n            </div>\r\n        </el-card>\r\n        <el-card v-if=\"data.pageNumber == 3\">\r\n            <div slot='header'>\r\n                <span>出荷伝票(分割単価入力)</span>\r\n            </div>\r\n            <div slot='default'>\r\n                <form id=\"niukeNyuryokuForm\" v-focus-first-on-load v-focus-next-on-enter class='vld-parent'>\r\n                    <div class='row'>\r\n                        <div class='col-md-3'>\r\n                            <label for='出荷日付' class='col-form-label px-1' style='width:100%;'>出荷日付</label>\r\n                            <el-input v-model=\"data.first.model.syukkaDate\"\r\n                                      type='date'\r\n                                      readonly></el-input>\r\n                        </div>\r\n                    </div>\r\n                    <div class='row' style=\"margin-top:2%;\">\r\n                        <div class='col-md-12' style=\"margin-top:1%;\">\r\n                            <label for='市場' class='col-form-label px-1' style='width:100%;'>市場</label>\r\n                            <el-input v-model=\"data.second.model.shijyoName\"\r\n                                      type='text'\r\n                                      style='width:30%;'\r\n                                      readonly></el-input>\r\n                        </div>\r\n                    </div>\r\n                    <div class='row' style=\"margin-top:2%;\">\r\n                        <div class='col-md-2' style=\"margin-top:1%;\">\r\n                            <label for='商品' class='col-form-label px-1' style='width:100%;'>商品</label>\r\n                            <el-input :value=\"data.syouhin[data.second.model.meisai[data.selectedBunkatsuTankaIndex].syouhin]\"\r\n                                      type='text'\r\n                                      readonly></el-input>\r\n                        </div>\r\n                        <div class='col-md-2' style=\"margin-top:1%;\">\r\n                            <label for='品種' class='col-form-label px-1' style='width:100%;'>品種</label>\r\n                            <el-input :value=\"data.hinsyu[data.second.model.meisai[data.selectedBunkatsuTankaIndex].hinsyu] == undefined ? '' : data.hinsyu[data.second.model.meisai[data.selectedBunkatsuTankaIndex].hinsyu].hinsyumei\"\r\n                                      type='text'\r\n                                      readonly></el-input>\r\n                        </div>\r\n                        <div class='col-md-2' style=\"margin-top:1%;\">\r\n                            <label for='サイズ' class='col-form-label px-1' style='width:100%;'>サイズ</label>\r\n                            <el-input :value=\"data.size[data.second.model.meisai[data.selectedBunkatsuTankaIndex].size] == undefined ? '' : data.size[data.second.model.meisai[data.selectedBunkatsuTankaIndex].size].sizemei\"\r\n                                      type='text'\r\n                                      readonly></el-input>\r\n                        </div>\r\n                        <div class='col-md-2' style=\"margin-top:1%;\">\r\n                            <label for='品種' class='col-form-label px-1' style='width:100%;'>包装</label>\r\n                            <el-input :value=\"data.housou[data.second.model.meisai[data.selectedBunkatsuTankaIndex].housou] == undefined ? '' : data.housou[data.second.model.meisai[data.selectedBunkatsuTankaIndex].housou].hosomei\"\r\n                                      type='text'\r\n                                      readonly></el-input>\r\n                        </div>\r\n\r\n                        <div class='col-md-3' style=\"margin-top:1%;\">\r\n                            <label for='等級' class='col-form-label px-1' style='width:100%;'>等級</label>\r\n                            <el-input :value=\"getShijyoTokyuByShijyoTokyuCD(data.second.model.meisai[data.selectedBunkatsuTankaIndex].shijotokyu) == undefined ? '' : getShijyoTokyuByShijyoTokyuCD(data.second.model.meisai[data.selectedBunkatsuTankaIndex].shijotokyu).tokyuHyojimei\"\r\n                                      type='text'\r\n                                      readonly></el-input>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div class='row' style=\"margin-top:2%;\">\r\n                        <div class='col-md-12' style=\"margin-top:1%;\">\r\n                            <label for='合計枚数' class='col-form-label px-1' style='width:100%;'>合計枚数</label>\r\n                            <el-input v-model=\"data.second.model.meisai[data.selectedBunkatsuTankaIndex].maisu\"\r\n                                      type='text'\r\n                                      style='width:30%;'\r\n                                      readonly></el-input>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <div class='col-md-12' style=\"margin-top:2%;\">\r\n                            <table class=\"table\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th></th>\r\n                                        <th>削除</th>\r\n                                        <th>枚数</th>\r\n                                        <th>単価</th>\r\n                                        <th>金額</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr v-for=\"(meisai_data, index) in data.second.model.meisai[data.selectedBunkatsuTankaIndex].meisaibunkatuData\" v-bind:key=\"meisai_data.number\">\r\n                                        <td>{{index}}</td>\r\n                                        <td><el-button type=\"primary\" name=\"name\" v-on:click=\"removeBunkatsuMeisai(index)\">削除</el-button></td>\r\n                                        <td>\r\n                                            <el-input-number v-model=\"meisai_data.maisu\"\r\n                                                             controls-position=\"right\"\r\n                                                             style=\"width:100%;\"\r\n                                                             :min=\"0\"\r\n                                                             @change=\"bunkatsuMeisaiKingaku(meisai_data)\"></el-input-number>\r\n                                        </td>\r\n                                        <td>\r\n                                            <el-input-number name=\"name\"\r\n                                                             v-model=\"meisai_data.tanka\" :disabled=\"data.syoriKubun == 2\"\r\n                                                             :precision=\"2\" :step=\"0.1\"\r\n                                                             style=\"width:100%;\"\r\n                                                             :min=\"0\"\r\n                                                             @change=\"bunkatsuMeisaiKingaku(meisai_data)\"\r\n                                                             controls-position=\"right\"></el-input-number>\r\n                                        </td>\r\n                                        <td>\r\n                                            <el-input :value=\"meisai_data.kingaku\"\r\n                                                      style=\"width:100%;\"\r\n                                                      readonly></el-input>\r\n                                        </td>\r\n\r\n                                    </tr>\r\n                                </tbody>\r\n                                <tr>\r\n                                    <td colspan=\"5\" style=\"text-align:center;\">\r\n                                        <el-button type='primary'\r\n                                                   style='width:40%;display:inline;'\r\n                                                   @click=\"addBunkatsuMeisai()\"\r\n                                                   :disabled=\"data.syoriKubun == 2 || !data.disabled.syukkaConfirm\">明細を追加</el-button>\r\n                                    </td>\r\n                                </tr>\r\n\r\n                                <tbody>\r\n                                    <tr>\r\n                                        <td></td>\r\n                                        <td>合計</td>\r\n                                        <td>\r\n                                            <el-input :value=\"returnBunkatsuTotalMaisu()\"\r\n                                                      readonly></el-input>\r\n                                        </td>\r\n                                        <td></td>\r\n                                        <td>\r\n                                            <el-input :value=\"returnBunkatsuTotalPrice()\"\r\n                                                      readonly></el-input>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n                <div class='row'>\r\n                    <div class='col-md-12'>\r\n                        <div style='text-align:right;width:100%;'>\r\n                            <el-button style='margin-left:2%;' type='primary' v-on:click=\"bunkatsuTankaNyuryokuUpdate\">更新(F5)</el-button>\r\n                            <el-button style='margin-left:2%;' type='warning' v-on:click=\"data.pageNumber = 2\">戻る(F12)</el-button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </el-card>\r\n\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    // @ is an alias to /src\r\n    import Card from '@/components/Card/Card.vue'\r\n    import KeyboardEvents from '@/components/KeyboardEvents.vue'\r\n    import config from '@/config.js'\r\n    import exsist from '@/js/status/exsist.js'\r\n    import time from '@/js/status/time.js'\r\n    import ElIncrementSearch from '@/components/IncrementSearch.vue'\r\n    import url from '@/js/api_url.js'\r\n\r\n    export default {\r\n        name: 'niukeNyuryokuSyoki',\r\n        components: {\r\n            Card, KeyboardEvents, ElIncrementSearch\r\n        },\r\n        data: function () {\r\n            return {\r\n                //端末番号持ってくる\r\n                //methodsで使う際のnodeをmountedで登録し、取得する手間を省く\r\n                element: {\r\n                    syoriKubun: null,\r\n                    niukeNyuryokuForm: null,\r\n                },\r\n                data: {\r\n                    pageNumber: 1,\r\n                    first: {\r\n                        model: {\r\n                            syukkaDate: \"\",\r\n                            syukkaDenpyouChecked: false,\r\n                            syukkaKeisansyoChecked: false,\r\n                            nouninsyoChecked: false,\r\n\r\n                        },\r\n                        validation: {\r\n                            syukkaDate: [\r\n                                { required: true, message: '出荷日付が入力されていません', trigger: 'blur' },\r\n                            ],\r\n\r\n                        }\r\n\r\n                    },\r\n                    syukkaDate: {\r\n                        first: \"\",\r\n                        second: \"\",\r\n                    },\r\n                    checked: {\r\n                        goukeiInji: false,\r\n                    },\r\n                    disabled: {\r\n                        updateButton: true,\r\n                        meisaiIrisu: false,\r\n                        syukkaConfirm: false,\r\n\r\n                    },\r\n                    second: {\r\n                        model: {\r\n                            syukkaDate: \"\",\r\n                            shijyoCode: \"\",\r\n                            shijyoName: \"\",\r\n                            bumonCode: \"\",\r\n                            bumonName: \"\",\r\n                            tesuryou: \"\",\r\n                            meisai: []\r\n                        }\r\n\r\n                    },\r\n                    selectedBunkatsuTankaIndex: null,\r\n                    billNumber: \"\",\r\n                    syoriKubun: 0,\r\n                    dialogVisible: false,\r\n                    search: {\r\n                        dateStart: \"0001-01-01\",\r\n                        dateEnd: \"9999-12-31\",\r\n                        shijoCode: \"\",\r\n                        shijoName: \"\",\r\n                        result: [\r\n                        ],\r\n                        selectedIndex: null,\r\n                    },\r\n                    shijo: {\r\n                        code: \"\",\r\n                        name: \"\"\r\n                    },\r\n                    bumon: {\r\n                        code: \"\",\r\n                        name: \"\"\r\n                    },\r\n                    tesuryou: 0,\r\n                    meisai: [\r\n                    ],\r\n                    updateButton: \"登録\",\r\n                    syouhin: {\r\n                    },\r\n                    hinsyu: [\r\n                    ],\r\n                    size: [\r\n                    ],\r\n                    housou: [\r\n                    ],\r\n                    shijoTokyu: [\r\n                    ],\r\n                    kumiaiTokyu: [\r\n                    ],\r\n                    unchin: [\r\n                    ],\r\n                    shijyo: [\r\n                    ],\r\n                    bunkatsuTankaNyuryoku: {\r\n                        index: null,\r\n                        syouhin: \"\",\r\n                        hinsyu: \"\",\r\n                        size: \"\",\r\n                        housou: \"\",\r\n                        tokyu: \"\",\r\n                        totalMaisu: \"\",\r\n                        meisai: [\r\n                            { maisu: 0, tanka: 0 },\r\n\r\n                        ],\r\n\r\n                    }\r\n\r\n\r\n\r\n\r\n                },\r\n            }\r\n        },\r\n        methods: {\r\n            keyboardEvent(e) {\r\n                if (e.keyCode == config.KEY_CODES.F5) {\r\n\r\n                    if (this.data.pageNumber == 1) {\r\n                        this.confirm()\r\n                    }\r\n                }\r\n                if (e.keyCode == config.KEY_CODES.F9) {\r\n                    if (this.data.pageNumber == 2) {\r\n                        if (this.data.disabled.syukkaConfirm) {\r\n                            this.update()\r\n                        }\r\n                    }\r\n                    if (this.data.pageNumber == 3) {\r\n\r\n                        this.bunkatsuTankaNyuryokuUpdate()\r\n                    }\r\n                }\r\n                if (e.keyCode == config.KEY_CODES.F10) {\r\n                    if (this.data.pageNumber == 2) {\r\n                        this.init()\r\n                    }\r\n                }\r\n\r\n                if (e.keyCode == config.KEY_CODES.F12) {\r\n                    this.finish()\r\n                }\r\n            },\r\n            confirm: function () {\r\n                this.$refs['firstForm'].validate((valid) => {\r\n\r\n                    if (valid) {\r\n\r\n                        this.data.pageNumber = 2;\r\n\r\n                    }\r\n\r\n                });\r\n            },\r\n            syukkaConfirm: function () {\r\n                //仕様書を見た感じ提出前にチェックする必要性が無いように感じるが、もし入力チェックがある場合はここに追加\r\n\r\n                var select_value = this.data.syoriKubun;\r\n\r\n                if (select_value == 0) {\r\n                    //新規の時\r\n                    //第一画面の荷受け日付を第二画面の荷受け日付に変えて、disabledにする\r\n                    this.data.second.model.syukkaDate = this.data.first.model.syukkaDate;\r\n\r\n                    this.addMeisai('', null, '', '', '', 0, 1, '', '', 0, 0, 0, 0, 0, '', '',[]);\r\n\r\n\r\n                } else if (select_value == 1 || select_value == 2) {\r\n\r\n                    if (this.data.billNumber == \"\") {\r\n                        alert(\"伝票番号を検索してください\");\r\n                        return false;\r\n                    }\r\n\r\n                    var getUrl = url.createGetUrl(url.syukkaNyuryoku, [{ key: \"paramSyukkaBango\", value: this.data.billNumber }]);\r\n\r\n\r\n\r\n                    axios.get(getUrl)\r\n                        .then(response => {\r\n\r\n                            console.log(response.data);\r\n\r\n                            var data = response.data[0];\r\n\r\n                            if (data.meisaiData.length == 0) {\r\n\r\n                                alert(\"データがありません\");\r\n                                return false;\r\n                            }\r\n\r\n                            //※検索で選択したデータを明細に追加する。とりあえずは適当なデータを明細に入れるので、後にdbから取ってくる\r\n                            //明細の行を初期化\r\n                            this.data.second.model.meisai = [];\r\n\r\n                            this.data.second.model.syukkaDate = data.syukkaDate;\r\n                            this.data.second.model.shijyoCode = data.shijouCode;\r\n                            this.data.second.model.shijyoName = data.shijouName;\r\n                            this.data.second.model.tesuryou = data.tesuryou;\r\n                            this.data.second.model.bumonCode = data.bumonCode;\r\n                            this.data.second.model.bumonName = data.bumonName;\r\n\r\n                            for (var i = 0; i < data.meisaiData.length; i++) {\r\n\r\n                                var meisai = data.meisaiData[i];\r\n\r\n                                this.addMeisai(meisai.code, meisai.syouhin, meisai.hinsyu, meisai.size, meisai.housou, meisai.sainyuryokukbn, meisai.irisu, meisai.shijotokyu, meisai.kumiaitokyu, meisai.kouirisu, meisai.kousu, meisai.maisu, meisai.tanka, meisai.price, meisai.unchin, meisai.unchincd, meisai.meisaibunkatuData);\r\n\r\n\r\n                            }\r\n\r\n\r\n\r\n\r\n\r\n                            if (select_value == 2) {\r\n                                //更新ボタンの中身編集\r\n                                this.data.updateButton = \"削除\"\r\n\r\n                            } else if (select_value == 1) {\r\n                                this.data.updateButton = \"編集\"\r\n                            }\r\n\r\n\r\n                        })\r\n                        .catch(response => console.log(response))\r\n\r\n\r\n\r\n                }\r\n                this.data.disabled.syukkaConfirm = true;\r\n            },\r\n            createMeisaiData: function (code, syouhin, hinsyu, size, housou, irisu, sainyuryokukbn, sijotokyu, kumiaitokyu, kouirisu, kousu, maisu, tanka, price, unchin, unchincd, meisaibunkatuData) {\r\n\r\n                return {\r\n                    code: code,\r\n                    syouhin: syouhin,\r\n                    hinsyu: hinsyu,\r\n                    size: size,\r\n                    housou: housou,\r\n                    irisu: irisu,\r\n                    sainyuryokukbn: sainyuryokukbn,\r\n                    sijotokyu: sijotokyu,\r\n                    kumiaitokyu: kumiaitokyu,\r\n                    kouirisu: kouirisu,\r\n                    kousu: kousu,\r\n                    maisu: maisu,\r\n                    tanka: tanka,\r\n                    price: price,\r\n                    unchin: unchin,\r\n                    unchincd: unchincd,\r\n                    meisaibunkatuData: meisaibunkatuData,\r\n                };\r\n\r\n            },\r\n            addMeisai: function (code, syouhin, hinsyu, size, housou, irisu, sainyuryokukbn, sijotokyu, kumiaitokyu, kouirisu, kousu, maisu, tanka, price, unchin, unchincd, meisaibunkatuData) {\r\n\r\n                var data = this.createMeisaiData(code, syouhin, hinsyu, size, housou, irisu, sainyuryokukbn, sijotokyu, kumiaitokyu, kouirisu, kousu, maisu, tanka, price, unchin, unchincd, meisaibunkatuData);\r\n\r\n                this.data.second.model.meisai.push(data);\r\n\r\n\r\n            },\r\n            //クリックした検索結果を青くする\r\n            searchSelectedTr: function (index) {\r\n\r\n                this.data.search.selectedIndex = index;\r\n            },\r\n            searchResultSelect(search_result) {\r\n\r\n                this.data.billNumber = search_result.bill_number;\r\n                //モーダルを閉じる\r\n                this.data.dialogVisible = false;\r\n\r\n\r\n            },\r\n            createSearchResultData: function (date, bill_number, row, shijo, syouhin, hinsyu, size, housou, tokyu, hiki, maisu, tanka, price, unchin) {\r\n\r\n                return {\r\n                    date: date,\r\n                    bill_number: bill_number,\r\n                    row: row,\r\n                    shijo: shijo,\r\n                    syouhin: syouhin,\r\n                    hinsyu: hinsyu,\r\n                    size: size,\r\n                    housou: housou,\r\n                    tokyu: tokyu,\r\n                    hiki: hiki,\r\n                    maisu: maisu,\r\n                    tanka: tanka,\r\n                    price: price,\r\n                    unchin: unchin,\r\n                };\r\n\r\n            },\r\n            addSearchResult: function (date, bill_number, row, shijo, syouhin, hinsyu, size, housou, tokyu, hiki, maisu, tanka, price, unchin) {\r\n\r\n                var data = this.createSearchResultData(date, bill_number, row, shijo, syouhin, hinsyu, size, housou, tokyu, hiki, maisu, tanka, price, unchin);\r\n\r\n                this.data.search.result.push(data);\r\n\r\n\r\n            },\r\n            syukkaSearch: function () {\r\n\r\n\r\n                if (this.data.search.dateStart == \"\" || this.data.search.dateEnd == \"\") {\r\n\r\n                    alert(\"日付が入力されていません\");\r\n\r\n                    return false;\r\n                }\r\n\r\n\r\n                if (new Date(this.data.search.dateStart).getTime() > new Date(this.data.search.dateEnd).getTime()) {\r\n\r\n                    alert(\"日付の関係が逆になっています\");\r\n\r\n                    return false;\r\n                }\r\n\r\n\r\n\r\n                //検索を更新するときはresultを初期化\r\n                this.data.search.result = [];\r\n\r\n                var getArray = [\r\n                    { key: \"paramKaisiSyukkaHiduke\", value: this.data.search.dateStart },\r\n                    { key: \"paramSyuryoShukkaHiduke\", value: this.data.search.dateEnd },\r\n                ];\r\n\r\n                if (this.data.search.shijoCode != \"\") {\r\n                    getArray.push({ key: \"paramSijoCd\", value: this.data.search.shijoCode });\r\n\r\n                } else {\r\n                    getArray.push({ key: \"paramSijoCd\", value: null });\r\n                }\r\n\r\n                var getUrl = url.createGetUrl(url.syukkaNyuryokuKensaku, getArray);\r\n\r\n\r\n                axios.get(getUrl)\r\n                    .then(response => {\r\n\r\n                        console.log(response.data);\r\n                        for (var i = 0; i < response.data.length; i++) {\r\n\r\n                            var data = response.data[i];\r\n\r\n\r\n                            this.addSearchResult(data.date, data.bill_number, data.row, data.shijo, data.syouhin, data.hinsyu, data.size, data.housou, data.tokyu, data.hiki, data.maisu, data.tanka, data.price, data.unchin);\r\n\r\n                        }\r\n\r\n\r\n                    })\r\n                    .catch(response => console.log(response))\r\n\r\n            },\r\n\r\n            meisaiRemove: function (index) {\r\n\r\n                if (this.data.second.model.meisai.length > 1) {\r\n\r\n                    //明細の削除\r\n                    this.data.second.model.meisai.splice(index, 1);\r\n\r\n                }\r\n            },\r\n            //明細のコードの入力チェック\r\n            meisaiCodeCheck: function (meisai_data, input, index) {\r\n\r\n                var input_code = input.value;\r\n\r\n\r\n                if (input_code.length != 5) {\r\n\r\n                    alert(\"文字数は5桁である必要があります。\");\r\n                    input.value = meisai_data.code;\r\n                    return false;\r\n                }\r\n\r\n                var syouhin_code = Number(input_code.substr(0, 1));\r\n                var hinsyu_code = Number(input_code.substr(1, 1));\r\n                var size_code = Number(input_code.substr(2, 2));\r\n                var housou_code = input_code.substr(4, 1);\r\n\r\n                var syouhin_name = this.syouhinSearch(syouhin_code);\r\n                var hinsyu = this.hinsyuSearch(hinsyu_code, syouhin_code);\r\n                var size = this.sizeSearch(size_code, syouhin_code);\r\n                var housou = this.housouSearch(housou_code, syouhin_code);\r\n\r\n                var alert_name;\r\n\r\n                if (syouhin_name == undefined) {\r\n                    alert_name = \"商品\";\r\n                }\r\n                if (hinsyu == undefined) {\r\n                    alert_name = \"品種\";\r\n                }\r\n                if (size == undefined) {\r\n                    alert_name = \"サイズ\";\r\n                }\r\n                if (housou == undefined) {\r\n                    alert_name = \"包装\";\r\n                }\r\n\r\n                if (alert_name != undefined) {\r\n                    alert(alert_name + \"がありません\");\r\n                    input.value = meisai_data.code;\r\n                    return false;\r\n                }\r\n\r\n\r\n                //入数と入数再入力区分、運賃コードの取得\r\n                meisai_data.sainyuryokukbn = housou.sainyuryokukbn;\r\n                meisai_data.irisu = housou.datas[size_code];\r\n                meisai_data.unchincd = housou.unchincd;\r\n\r\n\r\n                this.calculateUnchin(meisai_data);\r\n\r\n                meisai_data.syouhin = syouhin_code;\r\n                meisai_data.hinsyu = hinsyu_code;\r\n                meisai_data.size = size_code;\r\n                meisai_data.housou = housou_code;\r\n\r\n                meisai_data.code = input.value;\r\n                console.log(this.data.hinsyu);\r\n\r\n            },\r\n            getHinsyuArrrayBySyouhinCode: function (syouhinCode) {\r\n\r\n                var result = [];\r\n\r\n                for (var i = 0; i < this.data.hinsyu.length; i++) {\r\n\r\n                    if (this.data.hinsyu[i].syohincd == syouhinCode) {\r\n\r\n                        result.push(this.data.hinsyu[i]);\r\n                    }\r\n\r\n                }\r\n                return result;\r\n            },\r\n            getSizeArrrayBySyouhinCode: function (syouhinCode) {\r\n\r\n                var result = [];\r\n\r\n                for (var i = 0; i < this.data.size.length; i++) {\r\n\r\n                    if (this.data.size[i].syohincd == syouhinCode) {\r\n\r\n                        result.push(this.data.size[i]);\r\n                    }\r\n\r\n                }\r\n                return result;\r\n            },\r\n            getHousouArrrayBySyouhinCode: function (syouhinCode) {\r\n\r\n                var result = [];\r\n                for (var i = 0; i < this.data.housou.length; i++) {\r\n\r\n                    if (this.data.housou[i].syohincd == syouhinCode) {\r\n\r\n                        result.push(this.data.housou[i]);\r\n                    }\r\n\r\n                }\r\n                return result;\r\n            },\r\n            //とりあえずdataから検索してます。検索をリアルタイムで行う場合は、ここにajax式を入れてdataの該当するプロパティを変えます\r\n            syouhinSearch: function (syouhin) {\r\n\r\n                return exsist.is_exsist_by_key(syouhin, this.data.syouhin);\r\n\r\n\r\n            },\r\n            hinsyuSearch: function (hinsyu, syouhin) {\r\n\r\n                return exsist.is_exsist_by_object_value(hinsyu, this.getHinsyuArrrayBySyouhinCode(syouhin), \"hinsyucd\");\r\n            },\r\n            sizeSearch: function (size, syouhin) {\r\n\r\n                return exsist.is_exsist_by_object_value(size, this.getSizeArrrayBySyouhinCode(syouhin), \"sizecd\");\r\n\r\n            },\r\n            housouSearch: function (housou, syouhin) {\r\n\r\n                return exsist.is_exsist_by_object_value(housou, this.getHousouArrrayBySyouhinCode(syouhin), \"hosocd\");\r\n\r\n            },\r\n            getShijyoTokyuByShijyoTokyuCD: function (shijyoTokyuCD) {\r\n\r\n                var result\r\n                for (var i = 0; i < this.data.shijoTokyu.length; i++) {\r\n\r\n                    if (this.data.shijoTokyu[i].shijyotokyu == shijyoTokyuCD) result = this.data.shijoTokyu[i];\r\n                }\r\n\r\n                return result\r\n\r\n\r\n            },\r\n            getShijyoByShijyoCD: function (shijyoCD) {\r\n\r\n                var result\r\n                for (var i = 0; i < this.data.shijyo.length; i++) {\r\n\r\n                    if (this.data.shijyo[i].shijyoCD == shijyoCD) result = this.data.shijyo[i];\r\n                }\r\n\r\n                return result\r\n            },\r\n            getUnchin: function (unchinCD, unchinRank) {\r\n\r\n                var unchin;\r\n\r\n                for (var i = 0; i < this.data.unchin.length; i++) {\r\n\r\n                    var data = this.data.unchin[i];\r\n\r\n                    if (data.unchinCD == unchinCD && data.unchinRank == unchinRank) {\r\n                        unchin = data.unchin;\r\n                    }\r\n\r\n                }\r\n\r\n                return unchin;\r\n            },\r\n            calculateUnchin: function (meisai) {\r\n\r\n                if (meisai.unchincd == \"\" || meisai.maisu == undefined || this.data.second.model.shijyoCode == undefined || this.data.second.model.shijyoCode == \"\") {\r\n\r\n\r\n                    meisai.unchin = \"\";\r\n\r\n                } else {\r\n\r\n                    var shijyo = this.getShijyoByShijyoCD(Number(this.data.second.model.shijyoCode));\r\n                    var unchin = this.getUnchin(meisai.unchincd, shijyo.unchinRank);\r\n\r\n                    meisai.unchin = unchin * meisai.maisu;\r\n\r\n                }\r\n\r\n            },\r\n            changeShijyoCD: function (new_value) {\r\n\r\n                this.data.second.model.shijyoName = new_value.shijyomei\r\n\r\n                if (new_value.tesuryoKbn == 1) {\r\n                    this.data.second.model.tesuryou = 0\r\n                } else {\r\n                    this.data.second.model.tesuryou = new_value.tesuryoRate\r\n                }\r\n\r\n                for (var i = 0; i < this.data.second.model.meisai.length; i++) {\r\n\r\n                    this.calculateUnchin(this.data.second.model.meisai[i]);\r\n                }\r\n\r\n            },\r\n            changeMeisaiMaisu: function (meisai_data) {\r\n\r\n                console.log(meisai_data);\r\n\r\n                if (meisai_data.kouirisu == undefined || meisai_data.kousu == undefined) {\r\n\r\n                    meisai_data.maisu = \"\";\r\n\r\n                } else {\r\n                    meisai_data.maisu = meisai_data.kouirisu * meisai_data.kousu;\r\n\r\n                }\r\n                this.calculateUnchin(meisai_data);\r\n\r\n            },\r\n            changeMeisaiPrice: function (meisai_data) {\r\n\r\n\r\n                if (meisai_data.maisu == undefined || meisai_data.tanka == undefined) {\r\n\r\n                    meisai_data.price = \"\";\r\n\r\n                } else {\r\n                    meisai_data.price = Math.floor(meisai_data.maisu * meisai_data.tanka);\r\n\r\n                }\r\n\r\n\r\n            },\r\n            returnTotalKousu: function () {\r\n\r\n                var result = 0;\r\n                for (var i in this.data.second.model.meisai) {\r\n                    result += this.data.second.model.meisai[i].kousu;\r\n                }\r\n                return result;\r\n            },\r\n            returnTotalMaisu: function () {\r\n\r\n                var result = 0;\r\n                for (var i in this.data.second.model.meisai) {\r\n                    result += this.data.second.model.meisai[i].maisu;\r\n                }\r\n                return result;\r\n            },\r\n            returnTotalPrice: function () {\r\n\r\n                var result = 0;\r\n                for (var i in this.data.second.model.meisai) {\r\n                    result += this.data.second.model.meisai[i].price;\r\n                }\r\n                return Math.floor(result);\r\n            },\r\n            returnTotalUnchin: function () {\r\n\r\n                var result = 0;\r\n                for (var i in this.data.second.model.meisai) {\r\n                    result += this.data.second.model.meisai[i].unchin;\r\n                }\r\n                return result;\r\n            },\r\n            bunkatsuTankaNyuryoku: function (meisai_data, index) {\r\n\r\n                this.data.selectedBunkatsuTankaIndex = index;\r\n\r\n                this.data.pageNumber = 3;\r\n            },\r\n            returnBunkatsuTotalMaisu: function () {\r\n\r\n                var result = 0;\r\n                for (var i in this.data.second.model.meisai[this.data.selectedBunkatsuTankaIndex].meisaibunkatuData) {\r\n                    result += this.data.second.model.meisai[this.data.selectedBunkatsuTankaIndex].meisaibunkatuData[i].maisu;\r\n                }\r\n                return result;\r\n            },\r\n            returnBunkatsuTotalPrice: function () {\r\n\r\n                var result = 0;\r\n                for (var i in this.data.second.model.meisai[this.data.selectedBunkatsuTankaIndex].meisaibunkatuData) {\r\n                    result += this.data.second.model.meisai[this.data.selectedBunkatsuTankaIndex].meisaibunkatuData[i].kingaku;\r\n                }\r\n                return Math.floor(result);\r\n            },\r\n            bunkatsuMeisaiKingaku: function (meisai) {\r\n\r\n                if (meisai.tanka == undefined || meisai.maisu == undefined) {\r\n\r\n                    meisai.kingaku = 0;\r\n                } else {\r\n\r\n                    meisai.kingaku = Math.floor(meisai.tanka * meisai.maisu);\r\n                }\r\n\r\n            },\r\n            addBunkatsuMeisai: function () {\r\n\r\n                this.data.second.model.meisai[this.data.selectedBunkatsuTankaIndex].meisaibunkatuData.push(\r\n                    {\r\n                        \"edaban\": this.data.second.model.meisai[this.data.selectedBunkatsuTankaIndex].meisaibunkatuData.length,\r\n                        \"maisu\": 0,\r\n                        \"tanka\": 0,\r\n                        \"kingaku\": 0,\r\n                    }\r\n                )\r\n            },\r\n            removeBunkatsuMeisai: function (index) {\r\n\r\n\r\n                //明細の削除\r\n\r\n                this.data.second.model.meisai[this.data.selectedBunkatsuTankaIndex].meisaibunkatuData.splice(index, 1);\r\n\r\n\r\n            },\r\n            bunkatsuTankaNyuryokuUpdate: function () {\r\n\r\n\r\n                if (this.data.second.model.meisai[this.data.selectedBunkatsuTankaIndex].maisu != this.returnBunkatsuTotalMaisu()) {\r\n                    alert(\"合計枚数が異なります\");\r\n                    return false;\r\n\r\n                }\r\n\r\n                var meisai_data = this.data.second.model.meisai[this.data.selectedBunkatsuTankaIndex];\r\n\r\n                meisai_data.tanka = this.returnBunkatsuTotalPrice() / this.returnBunkatsuTotalMaisu();\r\n\r\n                this.data.pageNumber = 2;\r\n            },\r\n            correspondingWithSyouhinCD: function (meisai, option) {\r\n\r\n\r\n                if (meisai.syouhin == option.syohinCD) {\r\n\r\n                    return true;\r\n                }\r\n\r\n                return false;\r\n\r\n\r\n            },\r\n            getMasterData: function () {\r\n\r\n                //各種必要なマスタデータを取ってくる\r\n\r\n                //市場等級\r\n                axios.get(url.syohinShijyoTokyuPatternMaster)\r\n                    .then(response => {\r\n\r\n                        this.data.shijoTokyu = response.data;\r\n                    })\r\n                    .catch(response => console.log(response))\r\n\r\n\r\n                //組合等級\r\n                axios.get(url.syohinKumiaiTokyuPatternMaster)\r\n                    .then(response => {\r\n                        this.data.kumiaiTokyu = response.data;\r\n                        console.log(this.data.kumi)\r\n                    })\r\n                    .catch(response => console.log(response))\r\n\r\n\r\n                axios.get(url.syouhinMaster)\r\n                    .then(response => {\r\n\r\n                        for (var i = 0; i < response.data.length; i++) {\r\n\r\n                            var data = response.data[i];\r\n\r\n                            this.$set(this.data.syouhin, String(data.syohinCD), data.syohinmei);\r\n\r\n                        }\r\n\r\n                    })\r\n                    .catch(response => console.log(response))\r\n\r\n                axios.get(url.syohinSizeMaster)\r\n                    .then(response => {\r\n\r\n                        this.$set(this.data, \"size\", response.data);\r\n\r\n                    })\r\n                    .catch(response => console.log(response))\r\n\r\n                axios.get(url.syohinHosoMaster)\r\n                    .then(response => {\r\n\r\n                        this.$set(this.data, \"housou\", response.data);\r\n\r\n                    })\r\n                    .catch(response => console.log(response))\r\n\r\n                axios.get(url.syohinHinsyuMaster)\r\n                    .then(response => {\r\n\r\n                        this.$set(this.data, \"hinsyu\", response.data);\r\n\r\n                    })\r\n                    .catch(response => console.log(response))\r\n\r\n\r\n                axios.get(url.unchinMaster)\r\n                    .then(response => {\r\n\r\n                        this.$set(this.data, \"unchin\", response.data);\r\n\r\n                        console.log(this.data.unchin);\r\n\r\n                    })\r\n                    .catch(response => console.log(response))\r\n\r\n                axios.get(url.shijoMaster)\r\n                    .then(response => {\r\n\r\n                        this.$set(this.data, \"shijyo\", response.data);\r\n\r\n                        console.log(\"市場\",this.data.shijyo);\r\n\r\n                    })\r\n                    .catch(response => console.log(response))\r\n\r\n\r\n            },\r\n            init: function () {\r\n                //初期化\r\n                this.data.second.model.meisai = [];\r\n                this.data.search.result = [];\r\n                this.data.second.model.syukkaDate = \"\";\r\n                this.data.second.model.shijyoCode = \"\";\r\n                this.data.second.model.shijyoName = \"\";\r\n                this.data.second.model.tesuryou = \"\";\r\n                this.data.second.model.bumonCode = \"\";\r\n                this.data.second.model.bumonName = \"\";\r\n                this.data.billNumber = \"\";\r\n                this.data.syoriKubun = 0;\r\n                this.data.disabled.syukkaConfirm = false;\r\n\r\n\r\n            },\r\n            update: function () {\r\n\r\n                this.$refs['secondForm'].validate((valid) => {\r\n\r\n                    if (valid) {\r\n\r\n                        if (this.data.syoriKubun == 0) {\r\n\r\n                            if (this.data.second.model.meisai.length == 0) {\r\n                                alert(\"追加する行がありません\");\r\n                                return false;\r\n                            }\r\n                        }\r\n\r\n                        var message;\r\n                        if (this.data.syoriKubun == 0) {\r\n                            message = \"登録しますか？\";\r\n                        } else if (this.data.syoriKubun == 1) {\r\n                            message = \"更新しますか？\";\r\n                        } else if (this.data.syoriKubun == 2) {\r\n                            message = \"削除しますか？\";\r\n                        }\r\n\r\n\r\n\r\n\r\n                        if (window.confirm(message)) {\r\n\r\n                            var postArray = {\r\n                                \"ProcKbn\": 1,\r\n                                \"SyukkaBango\": Number(this.data.billNumber),\r\n                                \"ComputerName\": this.$store.state.login.userName,\r\n                                \"InputTanto\": this.$store.state.login.userCode,\r\n                                \"GokeiFlg\": 0,\r\n                                \"PrintFlg\": false,\r\n                                \"PrintSyukkaDenpyoHikae\": false,\r\n                                \"PrintSyukkaKeisansyo\": false,\r\n                                \"PrintNohinsyo\": false,\r\n                                \"MeisaiData\": [],\r\n                                \"HanbaiData\": [],\r\n                              }\r\n\r\n                            if (this.data.checked.goukeiInji) {\r\n                                postArray.GokeiFlg = 1\r\n                            }\r\n\r\n\r\n                            for (var i = 0; i < this.data.second.model.meisai.length; i++) {\r\n\r\n                                var meisai_data = this.data.second.model.meisai[i];\r\n\r\n\r\n                                postArray.HanbaiData.push({\r\n                                    \"SyukkaBango\": Number(this.data.billNumber),\r\n                                    \"GyoBango\": i+1,\r\n                                    \"BumonCd\": Number(this.data.second.model.bumonCode),\r\n                                    \"SijoCd\": Number(this.data.second.model.shijyoCode),\r\n                                    \"SyukkaHiduke\": this.data.second.model.syukkaDate,\r\n                                    \"DataKbn\": 0,\r\n                                    \"Kaisu\": this.$store.state.login.kaisu,\r\n                                    \"Syohin\": meisai_data.syouhin,\r\n                                    \"Hinsyu\": meisai_data.hinsyu,\r\n                                    \"Size\": meisai_data.size,\r\n                                    \"Hoso\": meisai_data.housou,\r\n                                    \"TokyuSijo\": Number(meisai_data.sijotokyu),\r\n                                    \"TokyuKumiai\": Number(meisai_data.kumiaitokyu),\r\n                                    \"HakoIriSu\": meisai_data.irisu,\r\n                                    \"KoriIriSu\": meisai_data.kouirisu,\r\n                                    \"KoriSu\": meisai_data.kousu,\r\n                                    \"MaiSu\": meisai_data.maisu,\r\n                                    \"Tanka\": meisai_data.tanka,\r\n                                    \"Kingaku\": meisai_data.price,\r\n                                    \"Untin\": meisai_data.unchin,\r\n                                    \"InputTantoCd\": this.$store.state.login.userCode,\r\n                                    \"TesuryoRitu\": this.data.second.model.tesuryou,\r\n                                    \"Nendo\": Number(this.data.second.model.syukkaDate.split(\"-\")[0]),\r\n \r\n                                })\r\n\r\n                                for (var k = 0; k < this.data.second.model.meisai[i].meisaibunkatuData.length; k++) {\r\n\r\n\r\n                                    var hanbai_data = this.data.second.model.meisai[i].meisaibunkatuData[k];\r\n\r\n                                    postArray.MeisaiData.push({\r\n\r\n                                        \"SyukkaBango\": Number(this.data.billNumber),\r\n                                        \"GyoBango\": i+1,\r\n                                        \"EdaBango\": k+1,\r\n                                        \"MaiSu\": hanbai_data.maisu,\r\n                                        \"Tanka\": hanbai_data.tanka,\r\n                                        \"Kingaku\": hanbai_data.kingaku,\r\n                                        \"InputTantoCd\": this.$store.state.login.userCode,\r\n\r\n                                    })\r\n\r\n                                }\r\n\r\n\r\n\r\n                            }\r\n\r\n                            console.log(postArray);\r\n\r\n\r\n                            if (this.data.syoriKubun == 0) {\r\n\r\n                                axios.post(url.syukkaNyuryoku, postArray)\r\n                                    .then(response => {\r\n\r\n                                        this.$message({\r\n                                            message: '登録に成功しました',\r\n                                            type: 'success'\r\n                                        });\r\n                                        console.log(response.data);\r\n\r\n                                        if (this.data.syoriKubun == 0) {\r\n\r\n                                            window.open(response.data.url)\r\n\r\n                                        }\r\n\r\n                                        this.init();\r\n                                    })\r\n                                    .catch(response => {\r\n\r\n                                        this.$message({\r\n                                            message: '通信に失敗しました',\r\n                                            type: 'error'\r\n                                        });\r\n                                        console.log(response)\r\n                                    })\r\n\r\n\r\n                            } else if (this.data.syoriKubun == 1) {\r\n\r\n                                axios.put(url.syukkaNyuryoku, postArray)\r\n                                    .then(response => {\r\n                                        this.$message({\r\n                                            message: '修正に成功しました',\r\n                                            type: 'success'\r\n                                        });\r\n\r\n                                        if (this.data.syoriKubun == 1) {\r\n\r\n                                            if (window.confirm(\"再印刷しますか？\")) {\r\n                                                window.open(response.data.url)\r\n                                            }\r\n\r\n                                        }\r\n\r\n\r\n                                        this.init();\r\n                                    })\r\n                                    .catch(response => {\r\n\r\n                                        this.$message({\r\n                                            message: '通信に失敗しました',\r\n                                            type: 'error'\r\n                                        });\r\n                                        console.log(response)\r\n                                    })\r\n\r\n                            } else if (this.data.syoriKubun == 2) {\r\n\r\n                                postArray = {\r\n                                    \"SyukkaBango\": this.data.billNumber\r\n                                }\r\n\r\n                                axios.delete(url.syukkaNyuryoku, { params: postArray })\r\n                                    .then(response => {\r\n\r\n                                        this.$message({\r\n                                            message: '削除に成功しました',\r\n                                            type: 'success'\r\n                                        });\r\n\r\n                                        this.init();\r\n                                    })\r\n                                    .catch(response => {\r\n\r\n                                        this.$message({\r\n                                            message: '通信に失敗しました',\r\n                                            type: 'error'\r\n                                        });\r\n                                        console.log(response)\r\n                                    })\r\n\r\n                            }\r\n\r\n\r\n                        }\r\n\r\n                    }\r\n                });\r\n\r\n\r\n\r\n            },\r\n            finish: function () {\r\n                alert(\"終了\");\r\n            },\r\n\r\n\r\n        },\r\n        created: function () {\r\n\r\n            this.data.first.model.syukkaDate = time.nowJapanDateInput();\r\n\r\n            this.getMasterData();\r\n            //※dataから取ってくる\r\n\r\n        },\r\n        mounted: function () {\r\n\r\n\r\n        },\r\n        watch: {\r\n            'data.syoriKubun': function (new_value) {\r\n\r\n\r\n                if (new_value == 0) {\r\n\r\n                    this.data.updateButton = \"登録\";\r\n                } else if (new_value == 1) {\r\n\r\n                    this.data.updateButton = \"更新\";\r\n                } else if (new_value == 2) {\r\n\r\n                    this.data.updateButton = \"削除\";\r\n                }\r\n            },\r\n        }\r\n    }\r\n</script>\r\n\r\n\r\n<style scoped>\r\n\r\n    .search-selected {\r\n        background-color: blue;\r\n        color: white;\r\n    }\r\n</style>"]}]}