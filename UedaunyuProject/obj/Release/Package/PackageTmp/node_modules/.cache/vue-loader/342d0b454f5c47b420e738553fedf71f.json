{"remainingRequest":"C:\\Users\\User\\Documents\\hokuriku_tosbac\\Uedaunyu\\project\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\User\\Documents\\hokuriku_tosbac\\Uedaunyu\\project\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\src\\pages\\HaraidashiTyouseiNyuryoku.vue?vue&type=style&index=0&id=d82b47fe&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\User\\Documents\\hokuriku_tosbac\\Uedaunyu\\project\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\src\\pages\\HaraidashiTyouseiNyuryoku.vue","mtime":1601510351347},{"path":"C:\\Users\\User\\Documents\\hokuriku_tosbac\\Uedaunyu\\project\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\css-loader\\index.js","mtime":1603686212542},{"path":"C:\\Users\\User\\Documents\\hokuriku_tosbac\\Uedaunyu\\project\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1603686294659},{"path":"C:\\Users\\User\\Documents\\hokuriku_tosbac\\Uedaunyu\\project\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\postcss-loader\\lib\\index.js","mtime":1603686247402},{"path":"C:\\Users\\User\\Documents\\hokuriku_tosbac\\Uedaunyu\\project\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1603686194411},{"path":"C:\\Users\\User\\Documents\\hokuriku_tosbac\\Uedaunyu\\project\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\vue-loader\\lib\\index.js","mtime":1603686294656}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.search-selected {\n    background-color: blue;\n    color: white;\n}\n",{"version":3,"sources":["HaraidashiTyouseiNyuryoku.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAksBA;AACA;AACA;AACA","file":"HaraidashiTyouseiNyuryoku.vue","sourceRoot":"src/pages","sourcesContent":["<template>\r\n    <div>\r\n\r\n        <keyboard-events v-on:keydown=\"keyboardEvent\"></keyboard-events>\r\n        <el-dialog title=\"伝票検索\"\r\n                   :visible.sync=\"data.dialogVisible\"\r\n                   width=\"90%\">\r\n            <div class=\"row\">\r\n                <div class='col-md-4'>\r\n                    <label for='荷受日付' class='col-form-label px-1' style='width:100%;'>伝票日付</label>\r\n                    <el-input type='date'\r\n                              style='margin-right:2%;'\r\n                              :max=\"data.search.dateEnd\"\r\n                              v-model='data.search.denpyouDate'></el-input>\r\n                </div>\r\n                <div class='col-md-8'>\r\n                    <label for='商品' class='col-form-label px-1' style='width:100%;'>商品</label>\r\n                    <el-increment-search v-model=\"data.search.syouhinCode\"\r\n                                         :display=\"[{key:'syohinmei',name:'名前'}]\"\r\n                                         :autoComplete=\"['syohinmei']\"\r\n                                         :kind=\"'商品'\"\r\n                                         :required=\"true\"\r\n                                         @update=\"(r) => data.search.syouhinName = r.syohinmei\"></el-increment-search>\r\n                    <el-input type='text'\r\n                              style='width:50%;'\r\n                              readonly\r\n                              :placeholder=\"'商品名'\"\r\n                              v-model=\"data.search.syouhinName\"></el-input>\r\n                </div>\r\n\r\n            </div>\r\n            <div class=\"row\">\r\n                <div class='col-md-12'>\r\n                    <label for='備考' class='col-form-label px-1' style='width:100%;'>備考</label>\r\n                    <el-input type=\"textarea\"\r\n                              :rows=\"2\"\r\n                              v-model=\"data.bikou\">\r\n                    </el-input>\r\n                </div>\r\n            </div>\r\n            <div class=\"row\" style=\"margin-top:2%;\">\r\n                <div class=\"col-12\" style=\"text-align:right;\">\r\n                    <el-button @click=\"data.dialogVisible = false\">終了</el-button>\r\n                    <el-button type=\"primary\" v-on:click=\"haraidashiTyouseiSearch\">検索</el-button>\r\n                </div>\r\n            </div>\r\n            <el-card style=\"margin-top:1%;\">\r\n                <div slot='header'>\r\n                    <span>検索結果</span>\r\n                </div>\r\n                <div slot='default' class=\"row\">\r\n                    <div class=\"col-12\">\r\n                        <table class=\"table\">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th width=\"4%\"></th>\r\n                                    <th>受付番号</th>\r\n                                    <th>実棚日</th>\r\n                                    <th>商品</th>\r\n                                    <th>備考</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr v-for=\"(search_result, index) in data.search.result\" v-bind:key=\"search_result.number\" v-bind:class=\"data.search.selectedIndex == index && 'search-selected'\" v-on:click=\"searchSelectedTr(index)\">\r\n                                    <td><el-button type=\"success\" name=\"name\" v-on:click=\"searchResultSelect(search_result)\">選択</el-button></td>\r\n                                    <td>{{search_result.reception_number}}</td>\r\n                                    <td>{{search_result.date}}</td>\r\n                                    <td>{{getSyouhinName(search_result.syouhin)}}</td>\r\n                                    <td>{{search_result.kaisu}}</td>\r\n                                    <td>{{search_result.bikou}}</td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </el-card>\r\n        </el-dialog>\r\n        <el-card>\r\n            <div slot='header'>\r\n                <span>払出調整入力</span>\r\n            </div>\r\n            <div slot='default'>\r\n                <el-form :model=\"data.haraidashiTyouseiModel\" ref=\"haraidashiTyouseiForm\" label-width=\"120px\">\r\n                    <div class='row'>\r\n                        <div class='col-md-12'>\r\n\r\n                            <el-card>\r\n                                <template slot='default'>\r\n                                    <div class='row'>\r\n                                        <div class='col-md-4'>\r\n                                            <label for='処理区分' class='col-form-label px-1' style='width:100%;'>処理区分</label>\r\n                                            <el-select v-model=\"data.syoriKubun\" style=\"width: 100%;\" :disabled=\"data.disabled.haraidashiTyouseiConfirm\">\r\n                                                <el-option :value='0' :label=\"'0:新規'\"></el-option>\r\n                                                <el-option :value='1' :label=\"'1:修正'\"></el-option>\r\n                                                <el-option :value='2' :label=\"'2:削除'\"></el-option>\r\n                                                <el-option :value='3' :label=\"'3:照会'\"></el-option>\r\n                                            </el-select>\r\n                                        </div>\r\n                                        <div class='col-md-4'>\r\n                                            <label for='荷受日付' class='col-form-label px-1' style='width:100%;'>伝票番号</label>\r\n                                            <el-input id=\"receptionNumber\"\r\n                                                      type='text'\r\n                                                      style='width:60%; margin-right:2%;'\r\n                                                      v-model=\"data.receptionNumber\"\r\n                                                      :disabled=\"data.syoriKubun == 0 || data.disabled.haraidashiTyouseiConfirm\"></el-input>\r\n                                            <el-button id=\"receptionNumberSearch\"\r\n                                                       type='danger'\r\n                                                       icon=\"el-icon-search\"\r\n                                                       style='width:20%;display:inline;'\r\n                                                       @click=\"data.dialogVisible = true\"\r\n                                                       :disabled=\"data.syoriKubun == 0 || data.disabled.haraidashiTyouseiConfirm\">検索</el-button>\r\n\r\n                                        </div>\r\n                                        <div class='col-md-4'>\r\n                                            <label for='回数' class='col-form-label px-1'>確認</label>\r\n                                            <el-button type='primary'\r\n                                                       style=\"display:block;\"\r\n                                                       :disabled=\"data.disabled.haraidashiTyouseiConfirm\"\r\n                                                       v-on:click=\"haraidashiTyouseiConfirm\">確認</el-button>\r\n                                        </div>\r\n                                    </div>\r\n                                </template>\r\n                            </el-card>\r\n                        </div>\r\n                    </div>\r\n                    <div class='row' style=\"margin-top:3%;\">\r\n                        <div class='col-md-3'>\r\n                            <label for='伝票日付' class='col-form-label px-1'>伝票日付</label>\r\n                            <el-form-item label-width=\"0\"\r\n                                          prop=\"denpyouDate\"\r\n                                          :rules=\"{\r\n                                                              required: true, message: '伝票日付が入力されていません', trigger: 'blur'\r\n                                                              }\"\r\n                                          style=\"margin:0;\">\r\n                                <el-input id=\"denpyouDate\"\r\n                                          type=\"date\"\r\n                                          v-model=\"data.haraidashiTyouseiModel.denpyouDate\" v-bind:disabled=\"!data.disabled.haraidashiTyouseiConfirm || data.syoriKubun == 2 || data.syoriKubun == 3\"></el-input>\r\n                            </el-form-item>\r\n                        </div>\r\n                        <div class=\"col-md-3\">\r\n                            <label for='商品' class='col-form-label px-1' style='width:100%;'>商品</label>\r\n                            <el-form-item label-width=\"0\"\r\n                                          prop=\"syouhin\"\r\n                                          :rules=\"{\r\n                                                              required: true, message: '商品が選択されていません', trigger: 'blur'\r\n                                                              }\"\r\n                                          style=\"margin:0;\">\r\n\r\n                                <el-select v-model=\"data.haraidashiTyouseiModel.syouhin\" style='width:100%;' :disabled=\"!data.disabled.haraidashiTyouseiConfirm || data.syoriKubun == 2 || data.syoriKubun == 3\">\r\n                                    <el-option v-for=\"syouhin in data.syouhinData\" v-bind:key=\"syouhin.number\" :label=\"syouhin.syohinmei\" :value=\"syouhin.syohinCD\"></el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                        </div>\r\n                        <div class=\"col-md-3\">\r\n                            <label for='伝票区分' class='col-form-label px-1' style='width:100%;'>伝票区分</label>\r\n                            <el-form-item label-width=\"0\"\r\n                                          prop=\"denpyouKubun\"\r\n                                          :rules=\"{\r\n                                                              required: true, message: '伝票区分が選択されていません', trigger: 'blur'\r\n                                                              }\"\r\n                                          style=\"margin:0;\">\r\n\r\n                                <el-select v-model=\"data.haraidashiTyouseiModel.denpyouKubun\" style='width:100%;' :disabled=\"!data.disabled.haraidashiTyouseiConfirm || data.syoriKubun == 2 || data.syoriKubun == 3\">\r\n                                    <el-option v-for=\"denpyou in data.denpyouKubun\" v-bind:key=\"denpyou.number\" :label=\"denpyou.syohinmei\" :value=\"denpyou.syohinCD\"></el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                        </div>\r\n                        <div class=\"col-md-3\">\r\n                            <label for='回数' class='col-form-label px-1' style='width:100%;'>回数</label>\r\n                            <el-form-item label-width=\"0\"\r\n                                          prop=\"kaisu\"\r\n                                          :rules=\"{\r\n                                                              required: true, message: '回数が選択されていません', trigger: 'blur'\r\n                                                              }\"\r\n                                          style=\"margin:0;\">\r\n\r\n                                <el-select v-model=\"data.haraidashiTyouseiModel.kaisu\" style='width:100%;' :disabled=\"!data.disabled.haraidashiTyouseiConfirm || data.syoriKubun == 2 || data.syoriKubun == 3\">\r\n                                    <el-option v-for=\"kaisu in data.kaisu\" v-bind:key=\"kaisu.number\" :label=\"kaisu.syohinmei\" :value=\"kaisu.syohinCD\"></el-option>\r\n                                </el-select>\r\n                            </el-form-item>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div class='row' style=\"margin-top:2%;\">\r\n                        <div class='col-md-12'>\r\n                            <label for='備考' class='col-form-label px-1' style='width:100%;'>備考</label>\r\n                            <el-input type=\"textarea\"\r\n                                      :rows=\"4\"\r\n                                      v-model=\"data.haraidashiTyouseiModel.bikou\"\r\n                                      :disabled=\"!data.disabled.haraidashiTyouseiConfirm || data.syoriKubun == 2 || data.syoriKubun == 3\">\r\n                            </el-input>\r\n                        </div>\r\n                    </div>\r\n                    <el-card style=\"margin-top:3%;\">\r\n                        <div slot='header'>\r\n                            <span>明細</span>\r\n                        </div>\r\n                        <div>\r\n                            <table class=\"table\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th width=\"4%\"></th>\r\n                                        <th>削除</th>\r\n                                        <th>品種</th>\r\n                                        <th>品種名</th>\r\n                                        <th>サイズ</th>\r\n                                        <th>サイズ名</th>\r\n                                        <th>等級</th>\r\n                                        <th>等級名</th>\r\n                                        <th>数量</th>\r\n                                        <th>単価</th>\r\n                                        <th>金額</th>\r\n                                        <th>キャンセル</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr v-for=\"(meisai_data, index) in data.haraidashiTyouseiModel.meisai\" v-bind:key=\"meisai_data.number\" style=\"margin-bottom:10px;\">\r\n                                        <td>{{index}}</td>\r\n                                        <td><el-button type=\"primary\" name=\"name\" v-on:click=\"meisaiRemove(index)\" v-bind:disabled=\"data.syoriKubun == 3\">削除</el-button></td>\r\n                                        <td>\r\n                                            <el-form-item label-width=\"0\"\r\n                                                          :prop=\"'meisai[' + index + '].hinsyuCode'\"\r\n                                                          :rules=\"{\r\n                                                              required: true, message: '品種コードが入力されていません', trigger: 'blur'\r\n                                                              }\"\r\n                                                          style=\"margin:0;\">\r\n                                                <el-increment-search v-model=\"meisai_data.hinsyuCode\"\r\n                                                                     style='width:100%;'\r\n                                                                     :display=\"[{key:'hinsyumei',name:'名前'}]\"\r\n                                                                     :autoComplete=\"['hinsyumei']\"\r\n                                                                     :kind=\"'品種'\"\r\n                                                                     :required=\"true\"\r\n                                                                     :disabled=\"data.syoriKubun == 2 || data.syoriKubun == 3\"\r\n                                                                     @change=\"changeMeisaiData(index)\"\r\n                                                                     @update=\"\"></el-increment-search>\r\n                                            </el-form-item>\r\n                                        </td>\r\n                                        <td>\r\n                                            <el-input type='text'\r\n                                                      style='width:100%;'\r\n                                                      readonly\r\n                                                      :placeholder=\"'品種名'\"\r\n                                                      :disabled=\"data.syoriKubun == 2 || data.syoriKubun == 3\"\r\n                                                      @change=\"changeMeisaiData(index)\"\r\n                                                      v-model=\"meisai_data.hinsyuName\"></el-input>\r\n                                        </td>\r\n                                        <td>\r\n                                            <el-form-item label-width=\"0\"\r\n                                                          :prop=\"'meisai[' + index + '].sizeCode'\"\r\n                                                          :rules=\"{\r\n                                                              required: true, message: 'サイズコードが入力されていません', trigger: 'blur'\r\n                                                              }\"\r\n                                                          style=\"margin:0;\">\r\n\r\n                                                <el-increment-search v-model=\"meisai_data.sizeCode\"\r\n                                                                     :display=\"[{key:'name',name:'名前'}]\"\r\n                                                                     style='width:100%;'\r\n                                                                     :autoComplete=\"['name']\"\r\n                                                                     :kind=\"'サイズ'\"\r\n                                                                     :required=\"true\"\r\n                                                                     :disabled=\"data.syoriKubun == 2 || data.syoriKubun == 3\"\r\n                                                                     @change=\"changeMeisaiData(index)\"\r\n                                                                     @update=\"\"></el-increment-search>\r\n                                            </el-form-item>\r\n                                        </td>\r\n                                        <td>\r\n                                            <el-input type='text'\r\n                                                      style='width:100%;'\r\n                                                      readonly\r\n                                                      :placeholder=\"'サイズ名'\"\r\n                                                      :disabled=\"data.syoriKubun == 2 || data.syoriKubun == 3\"\r\n                                                      @change=\"changeMeisaiData(index)\"\r\n                                                      v-model=\"meisai_data.hinsyuName\"></el-input>\r\n                                        </td>\r\n                                        <td>\r\n                                            <el-form-item label-width=\"0\"\r\n                                                          :prop=\"'meisai[' + index + '].tokyuCode'\"\r\n                                                          :rules=\"{\r\n                                                              required: true, message: '等級コードが入力されていません', trigger: 'blur'\r\n                                                              }\"\r\n                                                          style=\"margin:0;\">\r\n\r\n                                                <el-increment-search v-model=\"meisai_data.tokyuCode\"\r\n                                                                     :display=\"[{key:'syohinmei',name:'名前'}]\"\r\n                                                                     style='width:100%;'\r\n                                                                     :autoComplete=\"['syohinmei']\"\r\n                                                                     :kind=\"'等級'\"\r\n                                                                     :required=\"true\"\r\n                                                                     :disabled=\"data.syoriKubun == 2 || data.syoriKubun == 3\"\r\n                                                                     @change=\"changeMeisaiData(index)\"\r\n                                                                     @update=\"\"></el-increment-search>\r\n                                            </el-form-item>\r\n\r\n                                        </td>\r\n                                        <td>\r\n                                            <el-input type='text'\r\n                                                      style='width:100%;'\r\n                                                      readonly\r\n                                                      :placeholder=\"'等級名'\"\r\n                                                      :disabled=\"data.syoriKubun == 2 || data.syoriKubun == 3\"\r\n                                                      @change=\"changeMeisaiData(index)\"\r\n                                                      v-model=\"meisai_data.tokyuName\"></el-input>\r\n                                        </td>\r\n                                        <td>\r\n                                            <el-form-item label-width=\"0\"\r\n                                                          :prop=\"'meisai[' + index + '].suryou'\"\r\n                                                          :rules=\"{\r\n                                                              required: true, message: '数量が入力されていません', trigger: 'blur'\r\n                                                              }\"\r\n                                                          style=\"margin:0;\">\r\n\r\n                                                <el-input-number name=\"name\" v-model=\"meisai_data.suryou\" :disabled=\"data.syoriKubun == 2 || data.syoriKubun == 3\" @change=\"changeMeisaiKingaku(index)\"></el-input-number>\r\n                                            </el-form-item>\r\n                                        </td>\r\n                                        <td>\r\n                                            <el-form-item label-width=\"0\"\r\n                                                          :prop=\"'meisai[' + index + '].tanka'\"\r\n                                                          :rules=\"{\r\n                                                              required: true, message: '単価が入力されていません', trigger: 'blur'\r\n                                                              }\"\r\n                                                          style=\"margin:0;\">\r\n\r\n                                                <el-input-number name=\"name\" v-model=\"meisai_data.tanka\" :disabled=\"data.syoriKubun == 2 || data.syoriKubun == 3\" @change=\"changeMeisaiKingaku(index)\"></el-input-number>\r\n                                            </el-form-item>\r\n                                        </td>\r\n                                        <td>\r\n                                            <el-input name=\"name\" v-model=\"meisai_data.kingaku\" :disabled=\"data.syoriKubun == 2 || data.syoriKubun == 3\" readonly></el-input>\r\n                                        </td>\r\n\r\n                                        <td><el-button type=\"warning\" name=\"name\" v-on:click=\"meisaiReturn(meisai_data.row,index)\" :disabled=\"data.syoriKubun == 2 || data.syoriKubun == 3\">キャンセル</el-button></td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                            <div style='text-align:right;width:100%;'>\r\n                                <el-button id=\"updateButton\" type='success' v-bind:disabled=\"!data.disabled.haraidashiTyouseiConfirm || data.syoriKubun == 3\" v-on:click=\"update\">{{data.updateButton}}(F9)</el-button>\r\n                                <el-button style='margin-left:2%;' type='warning' v-on:click=\"init\">画面クリア(F10)</el-button>\r\n                                <el-button style='margin-left:2%;' type='primary' v-on:click=\"finish\">終了(F12)</el-button>\r\n                            </div>\r\n                        </div>\r\n                    </el-card>\r\n                </el-form>\r\n            </div>\r\n        </el-card>\r\n\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    // @ is an alias to /src\r\n    import KeyboardEvents from '@/components/KeyboardEvents.vue'\r\n    import config from '@/config.js'\r\n    import validation from '@/js/status/validation.js'\r\n    import ElIncrementSearch from '@/components/IncrementSearch.vue'\r\n    import time from '@/js/status/time.js'\r\n\r\n\r\n    export default {\r\n        name: 'haraidashiTyouseiNyuryoku',\r\n        components: {\r\n            KeyboardEvents, ElIncrementSearch\r\n        },\r\n        data: function () {\r\n            return {\r\n                data: {\r\n                    syoriKubun: 0,\r\n                    search: {\r\n                        denpyouDate: \"\",\r\n                        syouhinCode: \"\",\r\n                        syouhinName: \"\",\r\n                        bikou: \"\",\r\n                        result: [\r\n                        ],\r\n                        selectedIndex: null,\r\n                    },\r\n                    //更新ボタンの文字\r\n                    updateButton: \"更新\",\r\n                    disabled: {\r\n                        haraidashiTyouseiConfirm: false,\r\n                    },\r\n                    syouhinData: [],\r\n                    denpyouKubun: [],\r\n                    kaisu: [],\r\n                    dialogVisible: false,\r\n                    receptionNumber: \"\",\r\n                    haraidashiTyouseiModel: {\r\n                        meisai: [],\r\n                        denpyouDate: \"\",\r\n                        syouhin: \"\",\r\n                        denpyouKubun: \"\",\r\n                        kaisu: \"\",\r\n                        bikou: \"\",\r\n                    },\r\n\r\n                },\r\n            }\r\n        },\r\n        methods: {\r\n            keyboardEvent(e) {\r\n                if (e.keyCode == config.KEY_CODES.F4) {\r\n\r\n                    if (!this.data.disabled.haraidashiTyouseiConfirm && this.data.syoriKubun != 0) {\r\n                        this.data.dialogVisible = true;\r\n                    }\r\n\r\n                }\r\n\r\n                if (e.keyCode == config.KEY_CODES.F9) {\r\n\r\n                    this.update()\r\n\r\n                }\r\n                if (e.keyCode == config.KEY_CODES.F10) {\r\n                    this.init()\r\n                }\r\n                if (e.keyCode == config.KEY_CODES.F12) {\r\n                    this.finish()\r\n                }\r\n            },\r\n            createMeisaiData: function (hinsyuCode, hinsyuName, sizeCode, sizeName, tokyuCode, tokyuName, suryou, tanka, kingaku, row) {\r\n\r\n\r\n                return {\r\n                    hinsyuCode: hinsyuCode,\r\n                    hinsyuName: hinsyuName,\r\n                    sizeCode: sizeCode,\r\n                    siceName: sizeName,\r\n                    tokyuCode: tokyuCode,\r\n                    tokyuName: tokyuName,\r\n                    suryou: suryou,\r\n                    tanka: tanka,\r\n                    kingaku: kingaku,\r\n                    row: row,\r\n                };\r\n\r\n            },\r\n            addMeisai: function (hinsyuCode, hinsyuName, sizeCode, sizeName, tokyuCode, tokyuName, suryou, tanka, kingaku,row) {\r\n\r\n                var data = this.createMeisaiData(hinsyuCode, hinsyuName, sizeCode, sizeName, tokyuCode, tokyuName, suryou, tanka, kingaku,row);\r\n\r\n                this.data.haraidashiTyouseiModel.meisai.push(data);\r\n\r\n\r\n            },\r\n            createSearchResultData: function (reception_number, date, syouhin, kaisu, bikou) {\r\n\r\n                return {\r\n                    reception_number: reception_number,\r\n                    date: date,\r\n                    syouhin: syouhin,\r\n                    kaisu:kaisu,\r\n                    bikou: bikou,\r\n                };\r\n\r\n            },\r\n            addSearchResult: function (reception_number, date, syouhin, kaisu, bikou) {\r\n\r\n                var data = this.createSearchResultData(reception_number, date, syouhin, kaisu, bikou);\r\n\r\n                this.data.search.result(data);\r\n\r\n\r\n            },\r\n            haraidashiTyouseiConfirm: function () {\r\n                //仕様書を見た感じ提出前にチェックする必要性が無いように感じるが、もし入力チェックがある場合はここに追加\r\n\r\n                var select_value = this.data.syoriKubun;\r\n\r\n                if (select_value == 0) {\r\n                    //新規の時\r\n\r\n\r\n                    //更新ボタンの中身編集\r\n                    this.data.updateButton = \"新規\"\r\n\r\n                    this.addMeisai(\"\", \"\", \"\", \"\", \"\", \"\", 0, 0, 0, this.data.haraidashiTyouseiModel.meisai.length);\r\n\r\n\r\n\r\n                } else {\r\n\r\n                    if (this.data.receptionNumber == \"\") {\r\n                        alert(\"受付番号を検索してください\");\r\n                        return false;\r\n                    }\r\n\r\n\r\n\r\n                    //※ここでaxiosで荷受け番号をもとにT荷受けからデータを取ってくる\r\n\r\n                    //検索で選択したデータを明細に追加する。とりあえずは適当なデータを明細に入れるので、後にdbから取ってくる\r\n                    //明細の行を初期化\r\n                    this.data.haraidashiTyouseiModel.meisai = [];\r\n\r\n                    this.data.haraidashiTyouseiModel.denpyouDate = \"2020-06-08\";\r\n                    this.data.haraidashiTyouseiModel.syouhin = \"0\";\r\n                    this.data.bikou = \"あああいいいううううえええおおお\";\r\n\r\n                    for (var i = 0; i < 4; i++) {\r\n                        var sample_meisai = this.createMeisaiData(\"\", \"\", \"\", \"\", \"\", \"\", i, 100, i * 100, this.data.haraidashiTyouseiModel.meisai.length);\r\n\r\n\r\n                        this.data.haraidashiTyouseiModel.meisai.push(sample_meisai);\r\n\r\n                    }\r\n                    this.addMeisai(\"\", \"\", \"\", \"\", \"\", \"\", 0, 0, 0, this.data.haraidashiTyouseiModel.meisai.length);\r\n\r\n\r\n                    if (select_value == 2) {\r\n                        //更新ボタンの中身編集\r\n                        this.data.updateButton = \"削除\"\r\n\r\n                    }\r\n                }\r\n\r\n                this.data.disabled.haraidashiTyouseiConfirm = true;\r\n\r\n            },\r\n            meisaiRemove: function (index) {\r\n\r\n                if (this.data.haraidashiTyouseiModel.meisai.length > 1) {\r\n\r\n                    //明細の削除\r\n                    this.data.haraidashiTyouseiModel.meisai.splice(index, 1);\r\n\r\n                }\r\n            },\r\n            meisaiReturn: function (row,index) {\r\n\r\n\r\n                if (this.data.syoriKubun == 0) {\r\n\r\n                    var meisai = this.data.haraidashiTyouseiModel.meisai[row,index];\r\n\r\n                    console.log(row, meisai);\r\n\r\n                    meisai.hinsyuCode = \"\";\r\n                    meisai.sizeCode = \"\";\r\n                    meisai.tokyuCode = \"\";\r\n                    meisai.suryou = 0;\r\n                    meisai.tanka = 0;\r\n                    meisai.kingaku = 0;\r\n\r\n\r\n                } else if (this.data.syoriKubun == 1) {\r\n\r\n                    //※処理区分が1の時axiosでとってきて戻す処理\r\n\r\n                }\r\n\r\n\r\n            },\r\n            changeMeisaiData: function (index) {\r\n\r\n                if (index == this.data.haraidashiTyouseiModel.meisai.length - 1) {\r\n\r\n                    this.addMeisai(\"\", \"\", \"\", \"\", \"\", \"\", 0, 0, 0, this.data.haraidashiTyouseiModel.meisai.length);\r\n\r\n                }\r\n\r\n            },\r\n            changeMeisaiKingaku: function (index) {\r\n\r\n                var meisai = this.data.haraidashiTyouseiModel.meisai[index];\r\n\r\n                meisai.kingaku = meisai.suryou * meisai.tanka;\r\n\r\n                this.changeMeisaiData(index);\r\n\r\n            },\r\n            haraidashiTyouseiSearch: function () {\r\n\r\n\r\n                //検索を更新するときはresultを初期化\r\n                this.data.search.result = [];\r\n\r\n\r\n                //※ここでaxiosで検索データを取ってくる\r\n                //とりあえずのデータ、サーバーとつないだらここはajaxx\r\n                var sample_data = this.createSearchResultData(\"101010\", \"2020-10-10\", 0, 33,\"あああああ\");\r\n\r\n\r\n                for (var i = 0; i < 4; i++) {\r\n\r\n                    this.data.search.result.push(sample_data);\r\n\r\n                }\r\n\r\n            },\r\n            getSyouhinName: function (code) {\r\n\r\n                var result = \"\";\r\n\r\n                for (var i = 0; i < this.data.syouhinData.length; i++) {\r\n\r\n                    if (this.data.syouhinData[i].syohinCD == code) {\r\n\r\n                        result = this.data.syouhinData[i].syohinmei;\r\n                    }\r\n                }\r\n\r\n                return result;\r\n            },\r\n            //クリックした検索結果を青くする\r\n            searchSelectedTr: function (index) {\r\n\r\n                this.data.search.selectedIndex = index;\r\n            },\r\n            searchResultSelect(search_result) {\r\n\r\n                this.data.receptionNumber = search_result.reception_number;\r\n                //モーダルを閉じる\r\n                this.data.dialogVisible = false;\r\n\r\n\r\n            },\r\n            init: function () {\r\n                //初期化\r\n                this.data.haraidashiTyouseiModel.meisai = [];\r\n                this.data.search.result = [];\r\n                this.data.haraidashiTyouseiModel.denpyouDate = \"\";\r\n                this.data.haraidashiTyouseiModel.syouhin = \"\";\r\n                this.data.receptionNumber = \"\";\r\n                this.data.syoriKubun = 0;\r\n\r\n                this.data.disabled.haraidashiTyouseiConfirm = false;\r\n\r\n\r\n\r\n            },\r\n            update: function () {\r\n\r\n                var message;\r\n                if (this.data.syoriKubun == 0) {\r\n                    message = \"登録しますか？\";\r\n                } else if (this.data.syoriKubun == 1) {\r\n                    message = \"更新しますか？\";\r\n                } else if (this.data.syoriKubun == 2) {\r\n                    message = \"削除しますか？\";\r\n                }\r\n\r\n                if (this.data.syoriKubun == 0 || this.data.syoriKubun == 1) {\r\n\r\n                    this.$refs['haraidashiTyouseiForm'].validate((valid) => {\r\n                        if (valid) {\r\n\r\n                            if (window.confirm(message)) {\r\n                                alert(\"実行\");\r\n                            }\r\n\r\n                        } else {\r\n                            return false;\r\n                        }\r\n                    });\r\n\r\n\r\n                } else {\r\n\r\n                    if (window.confirm(message)) {\r\n                        alert(\"実行\");\r\n                    }\r\n\r\n\r\n                }\r\n\r\n\r\n\r\n            },\r\n            finish: function () {\r\n                alert(\"終了\");\r\n            },\r\n\r\n        },\r\n        created: function () {\r\n\r\n\r\n            //※axiosでとってくる\r\n            this.data.syouhinData = [\r\n                { syohinCD: \"0\", syohinmei: \"干柿\" },\r\n                { syohinCD: \"1\", syohinmei: \"柿ごのみ\" },\r\n                { syohinCD: \"2\", syohinmei: \"あんぽ\" },\r\n                { syohinCD: \"9\", syohinmei: \"等外\" },\r\n            ]\r\n\r\n            this.data.denpyouKubun = [\r\n                \r\n            ]\r\n\r\n            this.data.kaisu = [\r\n\r\n            ];\r\n\r\n        },\r\n        mounted: function () {\r\n\r\n\r\n\r\n        },\r\n        watch: {\r\n\r\n\r\n        }\r\n\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n    .search-selected {\r\n        background-color: blue;\r\n        color: white;\r\n    }\r\n</style>"]}]}