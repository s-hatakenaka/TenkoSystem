{"remainingRequest":"C:\\Users\\shhok\\Source\\Repos\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\shhok\\Source\\Repos\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\shhok\\Source\\Repos\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\shhok\\Source\\Repos\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\shhok\\Source\\Repos\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\src\\pages\\SyukkaYoteiNyuryoku.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\shhok\\Source\\Repos\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\src\\pages\\SyukkaYoteiNyuryoku.vue","mtime":1603716296643},{"path":"C:\\Users\\shhok\\Source\\Repos\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1603716212749},{"path":"C:\\Users\\shhok\\Source\\Repos\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1603716287974},{"path":"C:\\Users\\shhok\\Source\\Repos\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\babel-loader\\lib\\index.js","mtime":1603716209870},{"path":"C:\\Users\\shhok\\Source\\Repos\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1603716212749},{"path":"C:\\Users\\shhok\\Source\\Repos\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\vue-loader\\lib\\index.js","mtime":1603716290397}],"contextDependencies":[],"result":["import \"core-js/modules/web.dom.iterable\";\nimport \"core-js/modules/es6.object.keys\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n// @ is an alias to /src\nimport Card from '@/components/Card/Card.vue';\nimport KeyboardEvents from '@/components/KeyboardEvents.vue';\nimport config from '@/config.js';\nimport time from '@/js/status/time.js';\nimport url from '@/js/api_url.js';\nexport default {\n  name: 'niukeNyuryokuSyoki',\n  components: {\n    Card: Card,\n    KeyboardEvents: KeyboardEvents\n  },\n  data: function data() {\n    return {\n      loading: false,\n      model: {\n        nyuryokuDate: \"\",\n        selectedSyouhin: \"\"\n      },\n      validation: {\n        nyuryokuDate: [{\n          required: true,\n          message: '出荷日付が入力されていません',\n          trigger: 'blur'\n        }],\n        selectedSyouhin: [{\n          required: true,\n          message: '商品が入力されていません',\n          trigger: 'blur'\n        }]\n      },\n      syouhin: [],\n      tableData: [],\n      tableDataIndex: {},\n      //一次元がサイズ、二次元が等級\n      zaiko: {},\n      chiku: [],\n      shijo: [],\n      shijoIndex: {},\n      size: [],\n      tokyu: [],\n      tokyuIndex: {},\n      housouPattern: []\n    };\n  },\n  methods: {\n    keyboardEvent: function keyboardEvent(e) {\n      if (e.keyCode == config.KEY_CODES.F5) {\n        this.update();\n      }\n\n      if (e.keyCode == config.KEY_CODES.F12) {\n        this.finish();\n      }\n    },\n    changeSyouhin: function changeSyouhin() {},\n    shijoColspan: function shijoColspan() {\n      var length = 0;\n\n      for (var i in this.housouPattern) {\n        length++;\n      }\n\n      return length * 2;\n    },\n    housouPatternThead: function housouPatternThead(chiku_code) {\n      var result = [];\n      var shijo = this.getShijoByChiku(chiku_code);\n\n      for (var i in shijo) {\n        if (shijo[i].visible) {\n          for (var k in this.housouPattern) {\n            result.push({\n              name: this.housouPattern[k].hyojimei,\n              colspan: 2\n            });\n          }\n        } else {\n          result.push({\n            name: \"\",\n            colspan: 1\n          });\n        }\n      }\n\n      return result;\n    },\n    getShijoByChiku: function getShijoByChiku(chiku_code) {\n      var result = [];\n\n      for (var i in this.shijo) {\n        if (this.shijo[i].shijyoChikuCD == chiku_code) {\n          result.push(this.shijo[i]);\n        }\n      }\n\n      return result;\n    },\n    getTableData: function getTableData(chiku_key, size_key, tokyu_key) {\n      var result = [];\n      var shijo = this.getShijoByChiku(chiku_key);\n\n      for (var i = 0; i < shijo.length; i++) {\n        for (var k = 0; k < this.housouPattern.length; k++) {\n          var Index = this.tableDataIndex[chiku_key][shijo[i].shijyoCD][size_key][tokyu_key][this.housouPattern[k].hosoPatternID];\n\n          if (this.tableData[Index] != undefined) {\n            result.push(this.tableData[Index]);\n          }\n        }\n      }\n\n      return result;\n    },\n    getTdKind: function getTdKind(chiku_key) {\n      var shijo = this.getShijoByChiku(chiku_key);\n      var housou_pattern_length = Object.keys(this.housouPattern).length;\n      var result = [];\n\n      for (var i in shijo) {\n        if (shijo[i].visible) {\n          for (var k = 0; k < housou_pattern_length; k++) {\n            result.push(\"大箱\");\n            result.push(\"小箱\");\n          }\n        } else {\n          result.push(\"\");\n        }\n      }\n\n      return result;\n    },\n    getOobakoTotal: function getOobakoTotal(size_key, tokyu_key) {\n      var result = 0;\n\n      for (var i in this.tableData) {\n        var data = this.tableData[i];\n\n        if (data.size == size_key) {\n          if (data.tokyu == tokyu_key) {\n            result += data.oobako;\n          }\n        }\n      }\n\n      return result;\n    },\n    getKobakoTotal: function getKobakoTotal(size_key, tokyu_key) {\n      var result = 0;\n\n      for (var i in this.tableData) {\n        var data = this.tableData[i];\n\n        if (data.size == size_key) {\n          if (data.tokyu == tokyu_key) {\n            result += data.kobako;\n          }\n        }\n      }\n\n      return result;\n    },\n    createTableDataIndex: function createTableDataIndex() {\n      for (var i = 0; i < this.chiku.length; i++) {\n        var chikuCD = this.chiku[i].atai;\n        this.tableDataIndex[chikuCD] = {};\n        var shijo = this.getShijoByChiku(chikuCD);\n\n        for (var k in shijo) {\n          var shijoCD = shijo[k].shijyoCD;\n          this.tableDataIndex[chikuCD][shijoCD] = {};\n\n          for (var l = 0; l < this.size.length; l++) {\n            var sizeCD = this.size[l].size;\n            this.tableDataIndex[chikuCD][shijoCD][sizeCD] = {};\n\n            for (var m = 0; m < this.size[l].tokyu.length; m++) {\n              var tokyuCD = this.size[l].tokyu[m];\n              this.tableDataIndex[chikuCD][shijoCD][sizeCD][tokyuCD] = {};\n\n              for (var n = 0; n < this.housouPattern.length; n++) {\n                var housouPatternCD = this.housouPattern[n].hosoPatternID;\n                this.tableDataIndex[chikuCD][shijoCD][sizeCD][tokyuCD][housouPatternCD] = null;\n              }\n            }\n          }\n        }\n      }\n\n      console.log(this.tableDataIndex);\n    },\n    update: function update() {\n      var _this = this;\n\n      var postArray = {\n        \"SyouhinCode\": this.model.selectedSyouhin,\n        \"SyukkaDate\": this.model.nyuryokuDate,\n        \"NyuryokuTantosyaCD\": this.$store.state.login.userCode,\n        \"PostData\": []\n      };\n\n      for (var i = 0; i < this.tableData.length; i++) {\n        var data = this.tableData[i];\n\n        if (data.oobako == undefined) {\n          data.oobako = 0;\n        }\n\n        if (data.kobako == undefined) {\n          data.kobako = 0;\n        }\n\n        postArray.PostData.push(data);\n      }\n\n      console.log(postArray);\n      this.loading = true;\n      axios.post(url.syukkayoteinyuryoku, postArray).then(function (response) {\n        _this.$message({\n          message: '保存に成功しました',\n          type: 'success'\n        });\n\n        _this.loading = false;\n\n        _this.changeMeisai();\n      }).catch(function (response) {\n        _this.$message({\n          message: '通信に失敗しました',\n          type: 'error'\n        });\n\n        _this.loading = false;\n        console.log(response);\n      });\n    },\n    finish: function finish() {\n      this.$router.push('/hoshigaki/');\n    },\n    changeMeisai: function changeMeisai() {\n      var _this2 = this;\n\n      this.$refs['searchForm'].validate(function (valid) {\n        if (valid) {\n          _this2.tableData = [];\n          _this2.size = [];\n          _this2.tokyu = [];\n          axios.get(url.syohinSizeTokyuPatternMaster).then(function (response) {\n            var Data = [];\n\n            for (var i = 0; i < response.data.length; i++) {\n              if (response.data[i].syohinCD == _this2.model.selectedSyouhin) {\n                Data.push(response.data[i]);\n              }\n            }\n\n            for (var i = 0; i < Data.length; i++) {\n              var is_exsist = false;\n\n              for (var k = 0; k < _this2.tokyu.length; k++) {\n                if (_this2.tokyu[k].tokyu == Data[i].tokyu) {\n                  is_exsist = true;\n                }\n              }\n\n              if (!is_exsist) {\n                _this2.tokyu.push(Data[i]);\n\n                _this2.tokyuIndex[Data[i].tokyu] = _this2.tokyu.length - 1;\n              }\n            }\n\n            axios.get(url.syohinSizeTokyuPatternMaster).then(function (response) {\n              var Data = [];\n\n              for (var i = 0; i < response.data.length; i++) {\n                if (response.data[i].syohinCD == _this2.model.selectedSyouhin) {\n                  Data.push(response.data[i]);\n                }\n              }\n\n              for (var i = 0; i < Data.length; i++) {\n                var is_exsist = false;\n                var size;\n\n                for (var k = 0; k < _this2.size.length; k++) {\n                  if (_this2.size[k].size == Data[i].size) {\n                    is_exsist = true;\n                    size = _this2.size[k];\n                  }\n                }\n\n                if (is_exsist) {\n                  size.tokyu.push(Data[i].tokyu);\n                } else {\n                  var tokyu = Data[i].tokyu;\n                  Data[i].tokyu = [tokyu];\n\n                  _this2.size.push(Data[i]);\n                }\n              }\n\n              axios.get(url.SyohinHinsyuHosoPatternMaster).then(function (response) {\n                var Data = [];\n\n                for (var i = 0; i < response.data.length; i++) {\n                  if (response.data[i].syohinCD == _this2.model.selectedSyouhin) {\n                    Data.push(response.data[i]);\n                  }\n                }\n\n                _this2.housouPattern = Data;\n\n                _this2.createTableDataIndex();\n\n                var postArray = [{\n                  key: \"SyukkaDate\",\n                  value: _this2.model.nyuryokuDate\n                }, {\n                  key: \"SyouhinCode\",\n                  value: _this2.model.selectedSyouhin\n                }];\n                var getUrl = url.createGetUrl(url.syukkayoteinyuryoku, postArray);\n                axios.get(getUrl).then(function (response) {\n                  console.log(response.data);\n\n                  for (var i = 0; i < response.data.length; i++) {\n                    var data = response.data[i];\n                    _this2.tableDataIndex[data.chiku][data.shijyo][data.size][data.tokyu][data.hosoPattern] = i;\n                  }\n\n                  _this2.tableData = response.data;\n                  var getUrl = url.createGetUrl(url.zaikohyoji, [{\n                    key: \"Syohincd\",\n                    value: _this2.model.selectedSyouhin\n                  }]);\n                  axios.get(getUrl).then(function (response) {\n                    console.log(\"在庫\", response.data);\n                    _this2.zaiko = response.data;\n                  }).catch(function (response) {\n                    return console.log(response);\n                  });\n                }).catch(function (response) {\n                  return console.log(response);\n                });\n              }).catch(function (response) {\n                return console.log(response);\n              });\n            }).catch(function (response) {\n              return console.log(response);\n            });\n          }).catch(function (response) {\n            return console.log(response);\n          });\n        }\n      });\n    },\n    getZaiko: function getZaiko(size, tokyu) {\n      var firstIndex;\n\n      for (var i = 0; i < this.zaiko.length; i++) {\n        if (size == this.zaiko[i].sizecd) {\n          firstIndex = i;\n        }\n      }\n\n      if (this.zaiko[firstIndex] == undefined) {\n        return \"\";\n      }\n\n      var secondIndex;\n\n      for (var i = 0; i < this.zaiko[firstIndex].tokyuData.length; i++) {\n        if (tokyu == this.zaiko[firstIndex].tokyuData[i].tokyucd) {\n          secondIndex = i;\n        }\n      }\n\n      if (firstIndex == undefined || secondIndex == undefined) {\n        return \"データがありません\";\n      }\n\n      return this.zaiko[firstIndex].tokyuData[secondIndex].value;\n    }\n  },\n  created: function created() {\n    var _this3 = this;\n\n    this.model.nyuryokuDate = time.nowJapanDateInput();\n    axios.get(url.syouhinMaster).then(function (response) {\n      console.log(response.data);\n\n      for (var i = 0; i < response.data.length; i++) {\n        if (response.data[i].syohinCD == 0 || response.data[i].syohinCD == 1) {\n          _this3.syouhin.push(response.data[i]);\n        }\n      }\n    }).catch(function (response) {\n      console.log(response);\n    });\n    axios.get(url.meisyoMaster).then(function (response) {\n      for (var i = 0; i < response.data.length; i++) {\n        if (response.data[i].meisyoCD == \"7\") {\n          _this3.chiku.push(response.data[i]);\n        }\n      }\n\n      console.log(_this3.chiku);\n    }).catch(function (response) {\n      return console.log(response);\n    });\n    axios.get(url.shijoMaster).then(function (response) {\n      for (var i = 0; i < response.data.length; i++) {\n        if (response.data[i].hyojiFlg == 1) {\n          _this3.shijo.push(response.data[i]);\n        }\n      }\n\n      for (var i = 0; i < _this3.shijo.length; i++) {\n        _this3.$set(_this3.shijo[i], 'visible', true);\n\n        _this3.shijoIndex[_this3.shijo[i].shijyoCD] = i;\n      }\n    }).catch(function (response) {\n      return console.log(response);\n    });\n  },\n  watch: {}\n};",{"version":3,"sources":["SyukkaYoteiNyuryoku.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <keyboard-events v-on:keydown=\"keyboardEvent\"></keyboard-events>\r\n        <el-card>\r\n            <div slot='header'>\r\n                <span>出荷予定入力</span>\r\n            </div>\r\n            <div slot='default'\r\n                 v-loading=\"loading\"\r\n                 element-loading-text=\"保存中\"\r\n                 element-loading-spinner=\"el-icon-loading\"\r\n                 element-loading-background=\"rgba(0, 0, 0, 0.8)\">\r\n                <form id=\"niukeNyuryokuForm\">\r\n                    <div class='row'>\r\n                        <el-form :model=\"model\" :rules=\"validation\" ref=\"searchForm\" label-width=\"120px\">\r\n\r\n                            <div class='col-md-12'>\r\n                                <label for='商品' class='col-form-label px-1' style='width:100%;'>商品</label>\r\n                                <el-form-item label-width=\"0\" prop=\"selectedSyouhin\" style='width:100%;'>\r\n                                    <el-select id=\"syoriKubun\" v-model=\"model.selectedSyouhin\" @change=\"changeMeisai\" style=\"width:100%; display:block;\">\r\n                                        <el-option v-for=\"(syouhin ,index) in syouhin\" v-bind:key=\"syouhin.number\" :value='syouhin.syohinCD' :label=\"syouhin.syohinmei\"></el-option>\r\n                                    </el-select>\r\n                                </el-form-item>\r\n                            </div>\r\n                            <div class='col-md-12'>\r\n                                <label for='日付' class='col-form-label px-1' style='width:100%;'>日付</label>\r\n                                <el-form-item label-width=\"0\" prop=\"nyuryokuDate\">\r\n                                    <el-input type='date'\r\n                                              v-model=\"model.nyuryokuDate\"\r\n                                              style=\"width:100%; display:block;\"\r\n                                              @change=\"changeMeisai\"></el-input>\r\n                                </el-form-item>\r\n\r\n                            </div>\r\n                        </el-form>\r\n                    </div>\r\n                    <div class=\"row\">\r\n                        <div class='col-md-12' v-for=\"chiku in chiku\" :key=\"chiku.number\" style='margin-top:2%;white-space:nowrap;overflow-x:scroll;'>\r\n                            <p>地区:{{chiku.meisyo}}</p>\r\n                            <table class=\"table\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th></th>\r\n                                        <th></th>\r\n                                        <th v-for=\"shijoData in getShijoByChiku(chiku.atai)\" :key=\"shijoData.number\" v-bind:colspan=\"shijoData.visible ? shijoColspan():1\"><el-button type=\"danger\" round v-on:click=\" $set(shijoData, 'visible', !shijoData.visible)\">{{shijoData.visible ? \"非表示\":\"表示\"}}</el-button>　{{shijoData.shijyomei}}</th>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th>サイズ</th>\r\n                                        <th>等級</th>\r\n                                        <th v-for=\"housou_pattern in housouPatternThead(chiku.atai)\" :key=\"housou_pattern.number\" v-bind:colspan=\"housou_pattern.colspan\">{{housou_pattern.name}}</th>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th></th>\r\n                                        <th></th>\r\n                                        <th v-for=\"input_kind in getTdKind(chiku.atai)\" :key=\"input_kind.number\">{{input_kind}}</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody v-for=\"(size,size_index) in size\" :key=\"size.number\">\r\n                                    <tr v-for=\"tokyu_key in size.tokyu\" :key=\"tokyu_key.number\">\r\n                                        <td>{{size.sizeHyojimei}}</td>\r\n                                        <td>{{tokyu[tokyuIndex[tokyu_key]].tokyuHyojimei}}</td>\r\n                                        <td v-for=\"(table_data,table_data_index) in getTableData(chiku.atai,size.size,tokyu_key)\" :key=\"table_data.number\" v-bind:class=\"!shijo[shijoIndex[table_data.shijyo]].visible && Number(table_data_index)%housouPattern.length != 0 ? 'unvisible' : ''\" v-bind:colspan=\"shijo[shijoIndex[table_data.shijyo]].visible ? 2 : 1\">\r\n                                            <el-input-number v-model=\"table_data.oobako\"\r\n                                                             style=\"margin-right:0.5%;\"\r\n                                                             v-if=\"shijo[shijoIndex[table_data.shijyo]].visible\"\r\n                                                             :controls=\"false\"></el-input-number>\r\n                                            <el-input-number v-model=\"table_data.kobako\"\r\n                                                             v-if=\"shijo[shijoIndex[table_data.shijyo]].visible\"\r\n                                                             :controls=\"false\"></el-input-number>\r\n\r\n                                        </td>\r\n\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"row\" style=\"margin-top:3%;\">\r\n                        <div class='col-md-6'>\r\n\r\n                            <table class=\"table\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>サイズ</th>\r\n                                        <th>等級</th>\r\n                                        <th colspan=\"3\">市場計</th>\r\n                                    </tr>\r\n                                    <tr>\r\n                                        <th></th>\r\n                                        <th></th>\r\n                                        <th>大箱出荷数</th>\r\n                                        <th>小箱出荷数</th>\r\n                                        <th>在庫数</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody v-for=\"(size,size_index) in size\" :key=\"size.number\">\r\n\r\n                                    <tr v-for=\"tokyu_key in size.tokyu\" :key=\"tokyu_key.number\">\r\n                                        <th>{{size.sizeHyojimei}}</th>\r\n                                        <th>{{tokyu[tokyuIndex[tokyu_key]].tokyuHyojimei}}</th>\r\n                                        <th>{{getOobakoTotal(size.size,tokyu_key)}}</th>\r\n                                        <th>{{getKobakoTotal(size.size,tokyu_key)}}</th>\r\n                                        <th>{{getZaiko(size.size,tokyu_key)}}</th>\r\n                                    </tr>\r\n\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n                <div class='row'>\r\n                    <div class='col-md-12'>\r\n                        <div style='text-align:right;width:100%;'>\r\n                            <el-button style='margin-left:2%;' type='primary' v-on:click=\"update\">更新(F5)</el-button>\r\n                            <el-button style='margin-left:2%;' type='warning' v-on:click=\"finish\">終了(F12)</el-button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        </el-card>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    // @ is an alias to /src\r\n    import Card from '@/components/Card/Card.vue'\r\n    import KeyboardEvents from '@/components/KeyboardEvents.vue'\r\n    import config from '@/config.js'\r\n    import time from '@/js/status/time.js'\r\n    import url from '@/js/api_url.js'\r\n\r\n    export default {\r\n        name: 'niukeNyuryokuSyoki',\r\n        components: {\r\n            Card, KeyboardEvents\r\n        },\r\n        data: function () {\r\n            return {\r\n                loading: false,\r\n                model: {\r\n                    nyuryokuDate: \"\",\r\n                    selectedSyouhin: \"\",\r\n                },\r\n                validation: {\r\n                    nyuryokuDate: [\r\n                        { required: true, message: '出荷日付が入力されていません', trigger: 'blur' },\r\n                    ],\r\n                    selectedSyouhin: [\r\n                        { required: true, message: '商品が入力されていません', trigger: 'blur' },\r\n                    ],\r\n\r\n                },\r\n                syouhin: [\r\n                ],\r\n                tableData: [\r\n                ],\r\n                tableDataIndex: {\r\n\r\n                },\r\n                //一次元がサイズ、二次元が等級\r\n                zaiko: {\r\n                },\r\n                chiku: [\r\n                ],\r\n                shijo: [\r\n                ],\r\n                shijoIndex: {\r\n                },\r\n                size: [\r\n\r\n                ],\r\n                tokyu: [\r\n\r\n                ],\r\n                tokyuIndex: {\r\n                },\r\n                housouPattern: [\r\n\r\n                ],\r\n\r\n\r\n            }\r\n        },\r\n        methods: {\r\n            keyboardEvent(e) {\r\n                if (e.keyCode == config.KEY_CODES.F5) {\r\n                    this.update()\r\n                }\r\n                if (e.keyCode == config.KEY_CODES.F12) {\r\n                    this.finish()\r\n                }\r\n            },\r\n            changeSyouhin: function () {\r\n\r\n\r\n            },\r\n            shijoColspan: function () {\r\n\r\n                var length = 0;\r\n                for (var i in this.housouPattern) {\r\n                    length++;\r\n                }\r\n                return length * 2;\r\n            },\r\n            housouPatternThead: function (chiku_code) {\r\n\r\n                var result = [];\r\n                var shijo = this.getShijoByChiku(chiku_code);\r\n                for (var i in shijo) {\r\n\r\n                    if (shijo[i].visible) {\r\n                        for (var k in this.housouPattern) {\r\n                            result.push({ name: this.housouPattern[k].hyojimei, colspan: 2 });\r\n                        }\r\n\r\n                    } else {\r\n                        result.push({ name: \"\", colspan: 1 });\r\n                    }\r\n\r\n                }\r\n                return result;\r\n            },\r\n            getShijoByChiku: function (chiku_code) {\r\n                var result = [];\r\n                for (var i in this.shijo) {\r\n                    if (this.shijo[i].shijyoChikuCD == chiku_code) {\r\n\r\n                        result.push(this.shijo[i]);\r\n                    }\r\n                }\r\n\r\n                return result;\r\n            },\r\n            getTableData: function (chiku_key, size_key, tokyu_key) {\r\n\r\n                var result = [];\r\n\r\n                var shijo = this.getShijoByChiku(chiku_key);\r\n\r\n                for (var i = 0; i < shijo.length; i++) {\r\n\r\n                    for (var k = 0; k < this.housouPattern.length; k++) {\r\n\r\n                        var Index = this.tableDataIndex[chiku_key][shijo[i].shijyoCD][size_key][tokyu_key][this.housouPattern[k].hosoPatternID];\r\n\r\n                        if (this.tableData[Index] != undefined) {\r\n                            result.push(this.tableData[Index]);\r\n\r\n                        }\r\n\r\n                    }\r\n\r\n                }\r\n\r\n                return result;\r\n            },\r\n            getTdKind: function (chiku_key) {\r\n\r\n                var shijo = this.getShijoByChiku(chiku_key);\r\n\r\n                var housou_pattern_length = Object.keys(this.housouPattern).length;\r\n\r\n\r\n                var result = [];\r\n\r\n                for (var i in shijo) {\r\n\r\n                    if (shijo[i].visible) {\r\n\r\n                        for (var k = 0; k < housou_pattern_length; k++) {\r\n\r\n                            result.push(\"大箱\");\r\n                            result.push(\"小箱\");\r\n                        }\r\n\r\n                    } else {\r\n                        result.push(\"\");\r\n\r\n                    }\r\n\r\n\r\n                }\r\n\r\n                return result;\r\n            },\r\n            getOobakoTotal: function (size_key, tokyu_key) {\r\n\r\n                var result = 0;\r\n                for (var i in this.tableData) {\r\n\r\n                    var data = this.tableData[i];\r\n\r\n                    if (data.size == size_key) {\r\n\r\n                        if (data.tokyu == tokyu_key) {\r\n                            result += data.oobako;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return result;\r\n\r\n            },\r\n            getKobakoTotal: function (size_key, tokyu_key) {\r\n\r\n                var result = 0;\r\n                for (var i in this.tableData) {\r\n\r\n                    var data = this.tableData[i];\r\n\r\n                    if (data.size == size_key) {\r\n\r\n                        if (data.tokyu == tokyu_key) {\r\n                            result += data.kobako;\r\n                        }\r\n                    }\r\n                }\r\n                return result;\r\n\r\n            },\r\n            createTableDataIndex: function () {\r\n\r\n                for (var i = 0; i < this.chiku.length; i++) {\r\n\r\n                    var chikuCD = this.chiku[i].atai\r\n\r\n                    this.tableDataIndex[chikuCD] = {};\r\n\r\n                    var shijo = this.getShijoByChiku(chikuCD);\r\n\r\n                    for (var k in shijo) {\r\n                        var shijoCD = shijo[k].shijyoCD;\r\n\r\n                        this.tableDataIndex[chikuCD][shijoCD] = {};\r\n\r\n                        for (var l = 0; l < this.size.length; l++) {\r\n\r\n                            var sizeCD = this.size[l].size;\r\n\r\n                            this.tableDataIndex[chikuCD][shijoCD][sizeCD] = {};\r\n\r\n                            for (var m = 0; m < this.size[l].tokyu.length; m++) {\r\n\r\n                                var tokyuCD = this.size[l].tokyu[m]\r\n                                this.tableDataIndex[chikuCD][shijoCD][sizeCD][tokyuCD] = {};\r\n\r\n                                for (var n = 0; n < this.housouPattern.length; n++) {\r\n\r\n                                    var housouPatternCD = this.housouPattern[n].hosoPatternID\r\n\r\n                                    this.tableDataIndex[chikuCD][shijoCD][sizeCD][tokyuCD][housouPatternCD] = null;\r\n\r\n                                }\r\n\r\n                            }\r\n\r\n                        }\r\n\r\n\r\n                    }\r\n\r\n                }\r\n                console.log(this.tableDataIndex);\r\n\r\n            },\r\n            update: function () {\r\n\r\n\r\n                var postArray = {\r\n                    \"SyouhinCode\": this.model.selectedSyouhin,\r\n                    \"SyukkaDate\": this.model.nyuryokuDate,\r\n                    \"NyuryokuTantosyaCD\": this.$store.state.login.userCode,\r\n                    \"PostData\": [],\r\n\r\n                }\r\n\r\n\r\n                for (var i = 0; i < this.tableData.length; i++) {\r\n\r\n                    var data = this.tableData[i];\r\n                    if (data.oobako == undefined) {\r\n                        data.oobako = 0\r\n                    }\r\n                    if (data.kobako == undefined) {\r\n                        data.kobako = 0\r\n                    }\r\n\r\n                    postArray.PostData.push(data);\r\n                }\r\n\r\n                console.log(postArray);\r\n                this.loading = true;\r\n                axios.post(url.syukkayoteinyuryoku, postArray)\r\n                    .then(response => {\r\n                        this.$message({\r\n                            message: '保存に成功しました',\r\n                            type: 'success'\r\n                        });\r\n                        this.loading = false;\r\n                        this.changeMeisai();\r\n\r\n\r\n                    })\r\n                    .catch(response => {\r\n                        this.$message({\r\n                            message: '通信に失敗しました',\r\n                            type: 'error'\r\n                        });\r\n                        this.loading = false;\r\n                        console.log(response)\r\n                    })\r\n\r\n\r\n\r\n            },\r\n            finish: function () {\r\n                this.$router.push('/hoshigaki/');\r\n            },\r\n            changeMeisai: function () {\r\n                this.$refs['searchForm'].validate((valid) => {\r\n\r\n                    if (valid) {\r\n\r\n\r\n                        this.tableData = [];\r\n\r\n                        this.size = [];\r\n\r\n                        this.tokyu = [];\r\n\r\n\r\n                        axios.get(url.syohinSizeTokyuPatternMaster)\r\n                            .then(response => {\r\n                                var Data = [];\r\n                                for (var i = 0; i < response.data.length; i++) {\r\n                                    if (response.data[i].syohinCD == this.model.selectedSyouhin) {\r\n                                        Data.push(response.data[i]);\r\n                                    }\r\n                                }\r\n                                for (var i = 0; i < Data.length; i++) {\r\n                                    var is_exsist = false;\r\n\r\n                                    for (var k = 0; k < this.tokyu.length; k++) {\r\n\r\n                                        if (this.tokyu[k].tokyu == Data[i].tokyu) {\r\n\r\n                                            is_exsist = true;\r\n\r\n                                        }\r\n\r\n                                    }\r\n\r\n                                    if (!is_exsist) {\r\n\r\n                                        this.tokyu.push(Data[i]);\r\n                                        this.tokyuIndex[Data[i].tokyu] = this.tokyu.length - 1;\r\n\r\n\r\n                                    }\r\n\r\n                                }\r\n\r\n                                axios.get(url.syohinSizeTokyuPatternMaster)\r\n                                    .then(response => {\r\n                                        var Data = [];\r\n                                        for (var i = 0; i < response.data.length; i++) {\r\n                                            if (response.data[i].syohinCD == this.model.selectedSyouhin) {\r\n                                                Data.push(response.data[i]);\r\n                                            }\r\n                                        }\r\n\r\n                                        for (var i = 0; i < Data.length; i++) {\r\n\r\n                                            var is_exsist = false;\r\n                                            var size;\r\n                                            for (var k = 0; k < this.size.length; k++) {\r\n\r\n                                                if (this.size[k].size == Data[i].size) {\r\n\r\n                                                    is_exsist = true;\r\n                                                    size = this.size[k];\r\n\r\n                                                }\r\n\r\n                                            }\r\n\r\n                                            if (is_exsist) {\r\n\r\n                                                size.tokyu.push(Data[i].tokyu);\r\n\r\n                                            } else {\r\n                                                var tokyu = Data[i].tokyu;\r\n\r\n                                                Data[i].tokyu = [tokyu];\r\n\r\n                                                this.size.push(Data[i]);\r\n\r\n                                            }\r\n                                        }\r\n\r\n                                        axios.get(url.SyohinHinsyuHosoPatternMaster)\r\n                                            .then(response => {\r\n                                                var Data = [];\r\n                                                for (var i = 0; i < response.data.length; i++) {\r\n                                                    if (response.data[i].syohinCD == this.model.selectedSyouhin) {\r\n                                                        Data.push(response.data[i]);\r\n                                                    }\r\n                                                }\r\n                                                this.housouPattern = Data;\r\n\r\n                                                this.createTableDataIndex();\r\n\r\n                                                var postArray = [\r\n                                                    { key: \"SyukkaDate\", value: this.model.nyuryokuDate },\r\n                                                    { key: \"SyouhinCode\", value: this.model.selectedSyouhin },\r\n                                                ]\r\n                                                var getUrl = url.createGetUrl(url.syukkayoteinyuryoku, postArray);\r\n\r\n                                                axios.get(getUrl)\r\n                                                    .then(response => {\r\n                                                        console.log(response.data);\r\n                                                        for (var i = 0; i < response.data.length; i++) {\r\n                                                            var data = response.data[i];\r\n\r\n                                                            this.tableDataIndex[data.chiku][data.shijyo][data.size][data.tokyu][data.hosoPattern] = i;\r\n\r\n                                                        }\r\n\r\n                                                        this.tableData = response.data;\r\n\r\n\r\n\r\n                                                        var getUrl = url.createGetUrl(url.zaikohyoji, [{ key: \"Syohincd\", value: this.model.selectedSyouhin }]);\r\n\r\n                                                        axios.get(getUrl)\r\n                                                            .then(response => {\r\n                                                                console.log(\"在庫\", response.data);\r\n\r\n                                                                this.zaiko = response.data;\r\n                                                            })\r\n                                                            .catch(response => console.log(response))\r\n\r\n\r\n                                                    })\r\n                                                    .catch(response => console.log(response))\r\n\r\n\r\n\r\n                                            })\r\n                                            .catch(response => console.log(response))\r\n\r\n\r\n\r\n                                    })\r\n                                    .catch(response => console.log(response))\r\n\r\n\r\n\r\n                            })\r\n                            .catch(response => console.log(response))\r\n\r\n\r\n\r\n\r\n\r\n                    }\r\n                });\r\n\r\n\r\n            },\r\n            getZaiko: function (size, tokyu) {\r\n\r\n                var firstIndex;\r\n                for (var i = 0; i < this.zaiko.length; i++) {\r\n\r\n                    if (size == this.zaiko[i].sizecd) {\r\n                        firstIndex = i;\r\n                    }\r\n                }\r\n\r\n                if (this.zaiko[firstIndex] == undefined) {\r\n                    return \"\";\r\n                }\r\n\r\n                var secondIndex;\r\n                for (var i = 0; i < this.zaiko[firstIndex].tokyuData.length; i++) {\r\n\r\n                    if (tokyu == this.zaiko[firstIndex].tokyuData[i].tokyucd) {\r\n                        secondIndex = i;\r\n                    }\r\n                }\r\n\r\n                if (firstIndex == undefined || secondIndex == undefined) {\r\n\r\n                    return \"データがありません\";\r\n                }\r\n\r\n                return this.zaiko[firstIndex].tokyuData[secondIndex].value;\r\n\r\n\r\n            },\r\n        },\r\n        created: function () {\r\n\r\n            this.model.nyuryokuDate = time.nowJapanDateInput();\r\n\r\n            axios.get(url.syouhinMaster)\r\n                .then(response => {\r\n                    console.log(response.data);\r\n                    for (var i = 0; i < response.data.length; i++) {\r\n                        if (response.data[i].syohinCD == 0 || response.data[i].syohinCD == 1) {\r\n\r\n                            this.syouhin.push(response.data[i]);\r\n                        }\r\n                    }\r\n\r\n\r\n                })\r\n                .catch(response => {\r\n                    console.log(response)\r\n                }\r\n\r\n                )\r\n\r\n\r\n\r\n            axios.get(url.meisyoMaster)\r\n                .then(response => {\r\n                    for (var i = 0; i < response.data.length; i++) {\r\n                        if (response.data[i].meisyoCD == \"7\") {\r\n                            this.chiku.push(response.data[i]);\r\n                        }\r\n                    }\r\n                    console.log(this.chiku);\r\n                })\r\n                .catch(response => console.log(response))\r\n\r\n            axios.get(url.shijoMaster)\r\n                .then(response => {\r\n                    for (var i = 0; i < response.data.length; i++) {\r\n\r\n                        if (response.data[i].hyojiFlg == 1) {\r\n                            this.shijo.push(response.data[i]);\r\n                        }\r\n\r\n                    }\r\n\r\n                    for (var i = 0; i < this.shijo.length; i++) {\r\n                        this.$set(this.shijo[i], 'visible', true);\r\n                        this.shijoIndex[this.shijo[i].shijyoCD] = i;\r\n                    }\r\n                })\r\n                .catch(response => console.log(response))\r\n\r\n\r\n\r\n        },\r\n        watch: {\r\n\r\n\r\n        },\r\n    }\r\n</script>\r\n<style>\r\n\r\n    .unvisible {\r\n        display: none;\r\n    }\r\n</style>"],"sourceRoot":"src/pages"}]}