{"remainingRequest":"C:\\Users\\shhok\\Source\\Repos\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\shhok\\Source\\Repos\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\shhok\\Source\\Repos\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\shhok\\Source\\Repos\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\shhok\\Source\\Repos\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\src\\components\\IncrementSearch.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\shhok\\Source\\Repos\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\src\\components\\IncrementSearch.vue","mtime":1603716296540},{"path":"C:\\Users\\shhok\\Source\\Repos\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1603716212749},{"path":"C:\\Users\\shhok\\Source\\Repos\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1603716287974},{"path":"C:\\Users\\shhok\\Source\\Repos\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\babel-loader\\lib\\index.js","mtime":1603716209870},{"path":"C:\\Users\\shhok\\Source\\Repos\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1603716212749},{"path":"C:\\Users\\shhok\\Source\\Repos\\Uedaunyu-Tenkosystem\\UedaunyuProject\\UedaunyuProject\\node_modules\\vue-loader\\lib\\index.js","mtime":1603716290397}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport search from '@/js/search/autocomplete.js';\nimport exsist from '@/js/status/exsist.js';\nimport array from '@/js/array/key_change.js';\nimport url from '@/js/api_url.js';\nexport default {\n  name: 'el-increment-search',\n  model: {\n    prop: 'code',\n    event: \"change\"\n  },\n  props: {\n    code: {\n      type: String\n    },\n    autoComplete: {\n      type: Array\n    },\n    display: {\n      type: Array\n    },\n    required: {\n      type: Boolean\n    },\n    kind: {\n      type: String\n    },\n    disabled: {\n      type: Boolean\n    },\n    autofocus: {\n      type: Boolean\n    }\n  },\n  data: function data() {\n    return {\n      data: {\n        code: null\n      },\n      autoCompleteData: {},\n      querySearchData: [],\n      placeholder: null,\n      message: {\n        error: \"\"\n      }\n    };\n  },\n  methods: {\n    querySearch: function querySearch(queryString, cb) {\n      var list = this.querySearchData;\n      var results = queryString ? list.filter(search.createSearchFilter(queryString, \"value\")) : list; // call callback function to return suggestions\n\n      cb(results);\n    },\n    autocompleteSelect: function autocompleteSelect(item) {\n      for (var i in this.autoComplete) {\n        this.autoCompleteData[this.autoComplete[i]] = item[this.autoComplete[i]];\n      }\n\n      this.$emit('change', item.value);\n      this.$emit('update', this.autoCompleteData);\n    },\n    autocompleteChange: function autocompleteChange(value) {\n      if (value == \"\") {\n        for (var i in this.autoComplete) {\n          this.autoCompleteData[this.autoComplete[i]] = \"\";\n        }\n\n        this.$emit('change', \"\");\n        this.$emit('update', this.autoCompleteData);\n        return false;\n      }\n\n      var result = exsist.is_exsist_by_object_value(value, this.querySearchData, \"value\");\n\n      if (!result) {\n        if (this.required) {\n          alert(this.message.error);\n\n          for (var i in this.autoComplete) {\n            this.autoCompleteData[this.autoComplete[i]] = \"\";\n          }\n\n          this.$emit('change', \"\");\n          this.$emit('update', this.autoCompleteData);\n        }\n\n        return false;\n      }\n\n      for (var i in this.autoComplete) {\n        this.autoCompleteData[this.autoComplete[i]] = result[this.autoComplete[i]];\n      }\n\n      this.$emit('change', value);\n      this.$emit('update', this.autoCompleteData);\n    },\n    createValueKey: function createValueKey(array, codeKey) {\n      for (var i in array) {\n        array[i].value = String(array[i][codeKey]);\n      }\n    }\n  },\n  created: function created() {\n    var _this = this;\n\n    //今は定数データを入れているがサーバーからaxiosでデータを取ってくる\n    if (this.kind == \"商品\") {\n      this.placeholder = \"商品コード\";\n      this.message.error = \"入力したコードの商品は存在しません\";\n      axios.get(url.syouhinMaster).then(function (response) {\n        array.createValueKey(response.data, \"syohinCD\", \"string\");\n        _this.querySearchData = response.data;\n        console.log(_this.querySearchData);\n      }).catch(function (response) {\n        return console.log(response);\n      });\n    }\n\n    if (this.kind == \"生産者\") {\n      this.placeholder = \"生産者コード\";\n      this.message.error = \"入力したコードの生産者は存在しません\";\n      axios.get(url.seisansyaMaster).then(function (response) {\n        array.createValueKey(response.data, \"seisansyacd\", \"string\");\n        _this.querySearchData = response.data;\n      }).catch(function (response) {\n        return console.log(response);\n      });\n    }\n\n    if (this.kind == \"品種\") {\n      this.placeholder = \"品種コード\";\n      this.message.error = \"入力したコードの品種は存在しません\";\n      var data = [{\n        code: \"0\",\n        name: \"三社\"\n      }, {\n        code: \"1\",\n        name: \"平核\"\n      }]; //codeの部分は本番環境のコードのキーに変える\n\n      this.createValueKey(data, \"code\");\n      this.querySearchData = data;\n    }\n\n    if (this.kind == \"等級\") {\n      this.placeholder = \"等級コード\";\n      this.message.error = \"入力したコードの等級は存在しません\";\n      var data = [{\n        code: \"0\",\n        name: \"上\"\n      }, {\n        code: \"99\",\n        name: \"特上\"\n      }, {\n        code: \"2\",\n        name: \"中\"\n      }, {\n        code: \"3\",\n        name: \"下\"\n      }, {\n        code: \"4\",\n        name: \"特下\"\n      }]; //codeの部分は本番環境のコードのキーに変える\n\n      this.createValueKey(data, \"code\");\n      this.querySearchData = data;\n    }\n\n    if (this.kind == \"支所\") {\n      this.placeholder = \"支所コード\";\n      this.message.error = \"入力したコードの支所は存在しません\";\n      axios.get(url.shisyoMaster).then(function (response) {\n        array.createValueKey(response.data, \"shisyoCD\", \"string\");\n        _this.querySearchData = response.data;\n        _this.data.code = _this.code;\n\n        if (_this.code != \"\") {\n          _this.autocompleteChange(_this.data.code);\n        }\n      }).catch(function (response) {\n        return console.log(response);\n      });\n    }\n\n    if (this.kind == \"サイズ\") {\n      this.placeholder = \"サイズコード\";\n      this.message.error = \"入力したコードのサイズは存在しません\";\n      var data = [{\n        code: \"0\",\n        name: \"S\"\n      }, {\n        code: \"1\",\n        name: \"L\"\n      }, {\n        code: \"2\",\n        name: \"M\"\n      }]; //codeの部分は本番環境のコードのキーに変える\n\n      this.createValueKey(data, \"code\");\n      this.querySearchData = data;\n    }\n\n    if (this.kind == \"市場\") {\n      this.placeholder = \"市場コード\";\n      this.message.error = \"入力したコードの市場は存在しません\";\n      axios.get(url.shijoMaster).then(function (response) {\n        array.createValueKey(response.data, \"shijyoCD\", \"string\");\n        _this.querySearchData = response.data;\n      }).catch(function (response) {\n        return console.log(response);\n      });\n    }\n\n    if (this.kind == \"部門\") {\n      this.placeholder = \"部門コード\";\n      this.message.error = \"入力したコードの部門は存在しません\";\n      axios.get(url.bumonMaster).then(function (response) {\n        array.createValueKey(response.data, \"bumoncd\", \"string\");\n        _this.querySearchData = response.data;\n      }).catch(function (response) {\n        return console.log(response);\n      });\n    }\n\n    if (this.kind == \"包装\") {\n      this.placeholder = \"包装コード\";\n      this.message.error = \"入力したコードの包装は存在しません\";\n      axios.get(url.hosoMaster).then(function (response) {\n        array.createValueKey(response.data, \"hosoCD\", \"string\");\n        _this.querySearchData = response.data;\n        _this.data.code = _this.code;\n\n        if (_this.code != \"\") {\n          _this.autocompleteChange(_this.data.code);\n        }\n      }).catch(function (response) {\n        return console.log(response);\n      });\n    }\n\n    if (this.kind == \"地区\") {\n      this.placeholder = \"地区コード\";\n      this.message.error = \"入力したコードの地区は存在しません\";\n      axios.get(url.chikuMaster).then(function (response) {\n        array.createValueKey(response.data, \"chikuCD\", \"string\");\n        _this.querySearchData = response.data;\n        _this.data.code = _this.code;\n\n        if (_this.code != \"\") {\n          _this.autocompleteChange(_this.data.code);\n        }\n      }).catch(function (response) {\n        return console.log(response);\n      });\n    }\n\n    if (this.kind == \"資材\") {\n      this.placeholder = \"資材コード\";\n      this.message.error = \"入力したコードの資材は存在しません\";\n      axios.get(url.shizaiMaster).then(function (response) {\n        array.createValueKey(response.data, \"shizaiCD\", \"string\");\n        _this.querySearchData = response.data;\n        _this.data.code = _this.code;\n        console.log(_this.querySearchData);\n\n        if (_this.code != \"\") {\n          _this.autocompleteChange(_this.data.code);\n        }\n      }).catch(function (response) {\n        return console.log(response);\n      });\n    }\n\n    if (this.kind == \"運賃\") {\n      this.placeholder = \"運賃コード\";\n      this.message.error = \"入力したコードの運賃は存在しません\";\n      axios.get(url.unchinMaster).then(function (response) {\n        array.createValueKey(response.data, \"unchinCD\", \"string\");\n        _this.querySearchData = response.data;\n        console.log(_this.querySearchData);\n      }).catch(function (response) {\n        return console.log(response);\n      });\n    }\n  },\n  mounted: function mounted() {},\n  watch: {\n    'code': function code() {\n      this.data.code = this.code;\n    }\n  }\n};",{"version":3,"sources":["IncrementSearch.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n        <el-autocomplete style='width:30%; margin-right:2%;'\r\n                         v-model=\"data.code\"\r\n                         :fetch-suggestions=\"querySearch\"\r\n                         :placeholder=\"placeholder\"\r\n                         :disabled=\"disabled\"\r\n                         :autofocus=\"autofocus\"\r\n                         @select=\"autocompleteSelect\"\r\n                         @change=\"autocompleteChange\">\r\n            <template slot-scope=\"{ item }\">\r\n                <div style=\"border-top:solid 0.5px lightgray;\">コード:{{ item.value }}</div>\r\n                <div v-for=\"display in display\">{{display.name}}:{{ item[display.key] }}</div>\r\n                <div ></div>\r\n            </template>\r\n        </el-autocomplete>\r\n</template>\r\n\r\n<script>\r\n    import search from '@/js/search/autocomplete.js'\r\n    import exsist from '@/js/status/exsist.js'\r\n    import array from '@/js/array/key_change.js'\r\n    import url from '@/js/api_url.js'\r\n\r\n\r\n    export default {\r\n        name: 'el-increment-search',\r\n        model: {\r\n            prop: 'code',\r\n            event: \"change\",\r\n        },\r\n        props: {\r\n            code: {\r\n                type: String,\r\n            },\r\n            autoComplete: {\r\n                type: Array,\r\n            },\r\n            display: {\r\n                type:Array,\r\n            },\r\n            required: {\r\n                type: Boolean,\r\n            },\r\n            kind: {\r\n                type: String,\r\n            },\r\n            disabled: {\r\n                type: Boolean,\r\n            },\r\n            autofocus: {\r\n                type: Boolean,\r\n            }\r\n        },\r\n        data: function () {\r\n\r\n            return {\r\n                data: { code: null },\r\n                autoCompleteData: {},\r\n                querySearchData: [\r\n                ],\r\n                placeholder: null,\r\n                message: {\r\n                    error: \"\",\r\n                }\r\n            }\r\n        },\r\n        methods: {\r\n            querySearch: function (queryString, cb) {\r\n\r\n                var list = this.querySearchData;\r\n                var results = queryString ? list.filter(search.createSearchFilter(queryString, \"value\")) : list;\r\n                // call callback function to return suggestions\r\n                cb(results);\r\n            },\r\n            autocompleteSelect: function (item) {\r\n\r\n                for (var i in this.autoComplete) {\r\n\r\n                    this.autoCompleteData[this.autoComplete[i]] = item[this.autoComplete[i]];\r\n                }\r\n\r\n                this.$emit('change', item.value)\r\n                this.$emit('update', this.autoCompleteData);\r\n\r\n\r\n            },\r\n            autocompleteChange: function (value) {\r\n\r\n                if (value == \"\") {\r\n\r\n                    for (var i in this.autoComplete) {\r\n\r\n                        this.autoCompleteData[this.autoComplete[i]] = \"\";\r\n                    }\r\n\r\n                    this.$emit('change', \"\")\r\n                    this.$emit('update', this.autoCompleteData);\r\n\r\n\r\n\r\n                    return false;\r\n                }\r\n\r\n                var result = exsist.is_exsist_by_object_value(value, this.querySearchData, \"value\");\r\n\r\n                if (!result) {\r\n\r\n                    if (this.required) {\r\n                        alert(this.message.error);\r\n\r\n                        for (var i in this.autoComplete) {\r\n\r\n                            this.autoCompleteData[this.autoComplete[i]] = \"\";\r\n                        }\r\n\r\n                        this.$emit('change', \"\")\r\n                        this.$emit('update', this.autoCompleteData);\r\n\r\n\r\n\r\n                    }\r\n\r\n                    return false;\r\n                }\r\n\r\n                for (var i in this.autoComplete) {\r\n\r\n                    this.autoCompleteData[this.autoComplete[i]] = result[this.autoComplete[i]];\r\n                }\r\n\r\n                this.$emit('change', value)\r\n\r\n                this.$emit('update', this.autoCompleteData);\r\n\r\n\r\n\r\n            },\r\n            createValueKey: function (array,codeKey) {\r\n              \r\n                for (var i in array) {\r\n                    array[i].value = String(array[i][codeKey]);\r\n                }\r\n\r\n            }\r\n\r\n        },\r\n        created: function () {\r\n            //今は定数データを入れているがサーバーからaxiosでデータを取ってくる\r\n\r\n            if (this.kind == \"商品\") {\r\n                this.placeholder = \"商品コード\"\r\n                this.message.error = \"入力したコードの商品は存在しません\";\r\n\r\n\r\n\r\n\r\n                axios.get(url.syouhinMaster)\r\n                    .then(response => {\r\n\r\n\r\n                        array.createValueKey(response.data, \"syohinCD\", \"string\");\r\n\r\n                        this.querySearchData = response.data;\r\n\r\n                        console.log(this.querySearchData);\r\n\r\n                    })\r\n                    .catch(response => console.log(response))\r\n\r\n\r\n                \r\n\r\n            }\r\n\r\n        \r\n            if (this.kind == \"生産者\") {\r\n                this.placeholder = \"生産者コード\"\r\n              this.message.error = \"入力したコードの生産者は存在しません\";\r\n\r\n                axios.get(url.seisansyaMaster)\r\n                    .then(response => {\r\n\r\n                        array.createValueKey(response.data, \"seisansyacd\", \"string\");\r\n\r\n                        this.querySearchData = response.data;\r\n\r\n \r\n                    })\r\n                    .catch(response => console.log(response))\r\n\r\n\r\n            }\r\n\r\n            if (this.kind == \"品種\") {\r\n                this.placeholder = \"品種コード\"\r\n               this.message.error = \"入力したコードの品種は存在しません\";\r\n\r\n                var data = [\r\n                    { code: \"0\", name: \"三社\" },\r\n                    { code: \"1\", name: \"平核\" },\r\n                ];\r\n\r\n                //codeの部分は本番環境のコードのキーに変える\r\n                this.createValueKey(data, \"code\");\r\n\r\n                this.querySearchData = data;\r\n\r\n            }\r\n\r\n            if (this.kind == \"等級\") {\r\n                this.placeholder = \"等級コード\"\r\n                this.message.error = \"入力したコードの等級は存在しません\";\r\n\r\n                var data = [\r\n                    { code: \"0\", name: \"上\" },\r\n                    { code: \"99\", name: \"特上\" },\r\n                    { code: \"2\", name: \"中\" },\r\n                    { code: \"3\", name: \"下\" },\r\n                    { code: \"4\", name: \"特下\" },\r\n\r\n                ];\r\n\r\n                //codeの部分は本番環境のコードのキーに変える\r\n                this.createValueKey(data, \"code\");\r\n\r\n                this.querySearchData = data;\r\n\r\n            }\r\n\r\n            if (this.kind == \"支所\") {\r\n                this.placeholder = \"支所コード\"\r\n                this.message.error = \"入力したコードの支所は存在しません\";\r\n\r\n                axios.get(url.shisyoMaster)\r\n                    .then(response => {\r\n\r\n                        array.createValueKey(response.data, \"shisyoCD\", \"string\");\r\n\r\n                        this.querySearchData = response.data;\r\n\r\n                        this.data.code = this.code;\r\n\r\n                        if (this.code != \"\") {\r\n\r\n                            this.autocompleteChange(this.data.code);\r\n                        }\r\n\r\n    \r\n                    })\r\n                    .catch(response => console.log(response))\r\n\r\n            }\r\n\r\n\r\n                   if (this.kind == \"サイズ\") {\r\n                this.placeholder = \"サイズコード\"\r\n                this.message.error = \"入力したコードのサイズは存在しません\";\r\n\r\n                var data = [\r\n                    { code: \"0\", name: \"S\" },\r\n                    { code: \"1\", name: \"L\" },\r\n                    { code: \"2\", name: \"M\" },\r\n                \r\n                ];\r\n\r\n                //codeの部分は本番環境のコードのキーに変える\r\n                this.createValueKey(data, \"code\");\r\n\r\n                this.querySearchData = data;\r\n\r\n            }\r\n\r\n\r\n            if (this.kind == \"市場\") {\r\n                this.placeholder = \"市場コード\"\r\n                this.message.error = \"入力したコードの市場は存在しません\";\r\n\r\n\r\n                axios.get(url.shijoMaster)\r\n                    .then(response => {\r\n\r\n                        array.createValueKey(response.data, \"shijyoCD\", \"string\");\r\n\r\n                        this.querySearchData = response.data;\r\n\r\n           \r\n\r\n                    })\r\n                    .catch(response => console.log(response))\r\n\r\n\r\n            }\r\n\r\n            if (this.kind == \"部門\") {\r\n                this.placeholder = \"部門コード\"\r\n                this.message.error = \"入力したコードの部門は存在しません\";\r\n\r\n                axios.get(url.bumonMaster)\r\n                    .then(response => {\r\n\r\n                        array.createValueKey(response.data, \"bumoncd\", \"string\");\r\n\r\n                        this.querySearchData = response.data;\r\n\r\n\r\n                    })\r\n                    .catch(response => console.log(response))\r\n\r\n            }\r\n\r\n            if (this.kind == \"包装\") {\r\n                this.placeholder = \"包装コード\"\r\n                this.message.error = \"入力したコードの包装は存在しません\";\r\n\r\n                axios.get(url.hosoMaster)\r\n                    .then(response => {\r\n\r\n                        array.createValueKey(response.data, \"hosoCD\", \"string\");\r\n\r\n                        this.querySearchData = response.data;\r\n\r\n                        this.data.code = this.code;\r\n\r\n                        if (this.code != \"\") {\r\n\r\n                            this.autocompleteChange(this.data.code);\r\n                        }\r\n\r\n\r\n                    })\r\n                    .catch(response => console.log(response))\r\n\r\n\r\n            }\r\n\r\n            if (this.kind == \"地区\") {\r\n                this.placeholder = \"地区コード\"\r\n                this.message.error = \"入力したコードの地区は存在しません\";\r\n\r\n                axios.get(url.chikuMaster)\r\n                    .then(response => {\r\n\r\n                        array.createValueKey(response.data, \"chikuCD\", \"string\");\r\n\r\n                        this.querySearchData = response.data;\r\n\r\n                        this.data.code = this.code;\r\n\r\n                        if (this.code != \"\") {\r\n\r\n                            this.autocompleteChange(this.data.code);\r\n                        }\r\n\r\n\r\n                    })\r\n                    .catch(response => console.log(response))\r\n\r\n\r\n            }\r\n\r\n\r\n\r\n            if (this.kind == \"資材\") {\r\n                this.placeholder = \"資材コード\"\r\n                this.message.error = \"入力したコードの資材は存在しません\";\r\n\r\n                axios.get(url.shizaiMaster)\r\n                    .then(response => {\r\n\r\n                        array.createValueKey(response.data, \"shizaiCD\", \"string\");\r\n\r\n                        this.querySearchData = response.data;\r\n\r\n                        this.data.code = this.code;\r\n\r\n                        console.log(this.querySearchData);\r\n\r\n                        if (this.code != \"\") {\r\n\r\n                            this.autocompleteChange(this.data.code);\r\n                        }\r\n\r\n\r\n                    })\r\n                    .catch(response => console.log(response))\r\n\r\n\r\n            }\r\n\r\n\r\n            if (this.kind == \"運賃\") {\r\n                this.placeholder = \"運賃コード\"\r\n                this.message.error = \"入力したコードの運賃は存在しません\";\r\n\r\n                axios.get(url.unchinMaster)\r\n                    .then(response => {\r\n\r\n                        array.createValueKey(response.data, \"unchinCD\", \"string\");\r\n\r\n                        this.querySearchData = response.data;\r\n\r\n\r\n                        console.log(this.querySearchData);\r\n\r\n                    })\r\n                    .catch(response => console.log(response))\r\n\r\n\r\n            }\r\n\r\n\r\n\r\n        \r\n        },\r\n        mounted: function () {\r\n\r\n        },\r\n        watch: {\r\n            'code': function () {\r\n                this.data.code = this.code;\r\n\r\n\r\n              }\r\n   \r\n        },\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n</style>"],"sourceRoot":"src/components"}]}